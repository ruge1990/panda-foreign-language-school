/*!

=========================================================
* Light Bootstrap Dashboard React - v2.0.0
=========================================================

* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react
* Copyright 2020 Creative Tim (https://www.creative-tim.com)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
/*! For license information please see main.0193f427.chunk.js.LICENSE.txt */
(this["webpackJsonppande-foreign-language-school"]=this["webpackJsonppande-foreign-language-school"]||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(30),r=a.n(s),i=(a(66),a(67),a(68),a(69),a(70),a(10)),l=a(5),o=a(35),j=a(13),u=a(11),d=a.n(u),b=a(144),h=a(129),O=a(86),m=a(143),p=function(){return sessionStorage.getItem("token")||null},x=function(){sessionStorage.removeItem("token")},f=function(e){sessionStorage.setItem("token",e.token)},g=function(e){for(var t=new String,a=0;a<e.length;a++)t+=String.fromCharCode((e[a].charCodeAt()+64)%128);return t},v=a(58),y=a.n(v),N=a(130),k=a(82),S=a(145),C=a(131),w=a(140),D=a(142),I=a(132),T=a(0);var A=function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(h.a,{fluid:!0,children:[Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{lg:"3",sm:"6",children:Object(T.jsxs)(S.a,{className:"card-stats",children:[Object(T.jsx)(S.a.Body,{children:Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{xs:"5",children:Object(T.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(T.jsx)("i",{className:"nc-icon nc-chart text-warning"})})}),Object(T.jsx)(k.a,{xs:"7",children:Object(T.jsxs)("div",{className:"numbers",children:[Object(T.jsx)("p",{className:"card-category",children:"Number"}),Object(T.jsx)(S.a.Title,{as:"h4",children:"150GB"})]})})]})}),Object(T.jsxs)(S.a.Footer,{children:[Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"stats",children:[Object(T.jsx)("i",{className:"fas fa-redo mr-1"}),"Update Now"]})]})]})}),Object(T.jsx)(k.a,{lg:"3",sm:"6",children:Object(T.jsxs)(S.a,{className:"card-stats",children:[Object(T.jsx)(S.a.Body,{children:Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{xs:"5",children:Object(T.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(T.jsx)("i",{className:"nc-icon nc-light-3 text-success"})})}),Object(T.jsx)(k.a,{xs:"7",children:Object(T.jsxs)("div",{className:"numbers",children:[Object(T.jsx)("p",{className:"card-category",children:"Revenue"}),Object(T.jsx)(S.a.Title,{as:"h4",children:"$ 1,345"})]})})]})}),Object(T.jsxs)(S.a.Footer,{children:[Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"stats",children:[Object(T.jsx)("i",{className:"far fa-calendar-alt mr-1"}),"Last day"]})]})]})}),Object(T.jsx)(k.a,{lg:"3",sm:"6",children:Object(T.jsxs)(S.a,{className:"card-stats",children:[Object(T.jsx)(S.a.Body,{children:Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{xs:"5",children:Object(T.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(T.jsx)("i",{className:"nc-icon nc-vector text-danger"})})}),Object(T.jsx)(k.a,{xs:"7",children:Object(T.jsxs)("div",{className:"numbers",children:[Object(T.jsx)("p",{className:"card-category",children:"Errors"}),Object(T.jsx)(S.a.Title,{as:"h4",children:"23"})]})})]})}),Object(T.jsxs)(S.a.Footer,{children:[Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"stats",children:[Object(T.jsx)("i",{className:"far fa-clock-o mr-1"}),"In the last hour"]})]})]})}),Object(T.jsx)(k.a,{lg:"3",sm:"6",children:Object(T.jsxs)(S.a,{className:"card-stats",children:[Object(T.jsx)(S.a.Body,{children:Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{xs:"5",children:Object(T.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(T.jsx)("i",{className:"nc-icon nc-favourite-28 text-primary"})})}),Object(T.jsx)(k.a,{xs:"7",children:Object(T.jsxs)("div",{className:"numbers",children:[Object(T.jsx)("p",{className:"card-category",children:"Followers"}),Object(T.jsx)(S.a.Title,{as:"h4",children:"+45K"})]})})]})}),Object(T.jsxs)(S.a.Footer,{children:[Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"stats",children:[Object(T.jsx)("i",{className:"fas fa-redo mr-1"}),"Update now"]})]})]})})]}),Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{md:"8",children:Object(T.jsxs)(S.a,{children:[Object(T.jsxs)(S.a.Header,{children:[Object(T.jsx)(S.a.Title,{as:"h4",children:"Users Behavior"}),Object(T.jsx)("p",{className:"card-category",children:"24 Hours performance"})]}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)("div",{className:"ct-chart",id:"chartHours",children:Object(T.jsx)(y.a,{data:{labels:["9:00AM","12:00AM","3:00PM","6:00PM","9:00PM","12:00PM","3:00AM","6:00AM"],series:[[287,385,490,492,554,586,698,695],[67,152,143,240,287,335,435,437],[23,113,67,108,190,239,307,308]]},type:"Line",options:{low:0,high:800,showArea:!1,height:"245px",axisX:{showGrid:!1},lineSmooth:!0,showLine:!0,showPoint:!0,fullWidth:!0,chartPadding:{right:50}},responsiveOptions:[["screen and (max-width: 640px)",{axisX:{labelInterpolationFnc:function(e){return e[0]}}}]]})})}),Object(T.jsxs)(S.a.Footer,{children:[Object(T.jsxs)("div",{className:"legend",children:[Object(T.jsx)("i",{className:"fas fa-circle text-info"}),"Open ",Object(T.jsx)("i",{className:"fas fa-circle text-danger"}),"Click ",Object(T.jsx)("i",{className:"fas fa-circle text-warning"}),"Click Second Time"]}),Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"stats",children:[Object(T.jsx)("i",{className:"fas fa-history"}),"Updated 3 minutes ago"]})]})]})}),Object(T.jsx)(k.a,{md:"4",children:Object(T.jsxs)(S.a,{children:[Object(T.jsxs)(S.a.Header,{children:[Object(T.jsx)(S.a.Title,{as:"h4",children:"Email Statistics"}),Object(T.jsx)("p",{className:"card-category",children:"Last Campaign Performance"})]}),Object(T.jsxs)(S.a.Body,{children:[Object(T.jsx)("div",{className:"ct-chart ct-perfect-fourth",id:"chartPreferences",children:Object(T.jsx)(y.a,{data:{labels:["40%","20%","40%"],series:[40,20,40]},type:"Pie"})}),Object(T.jsxs)("div",{className:"legend",children:[Object(T.jsx)("i",{className:"fas fa-circle text-info"}),"Open ",Object(T.jsx)("i",{className:"fas fa-circle text-danger"}),"Bounce ",Object(T.jsx)("i",{className:"fas fa-circle text-warning"}),"Unsubscribe"]}),Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"stats",children:[Object(T.jsx)("i",{className:"far fa-clock"}),"Campaign sent 2 days ago"]})]})]})})]}),Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{md:"6",children:Object(T.jsxs)(S.a,{children:[Object(T.jsxs)(S.a.Header,{children:[Object(T.jsx)(S.a.Title,{as:"h4",children:"2017 Sales"}),Object(T.jsx)("p",{className:"card-category",children:"All products including Taxes"})]}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)("div",{className:"ct-chart",id:"chartActivity",children:Object(T.jsx)(y.a,{data:{labels:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],series:[[542,443,320,780,553,453,326,434,568,610,756,895],[412,243,280,580,453,353,300,364,368,410,636,695]]},type:"Bar",options:{seriesBarDistance:10,axisX:{showGrid:!1},height:"245px"},responsiveOptions:[["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(e){return e[0]}}}]]})})}),Object(T.jsxs)(S.a.Footer,{children:[Object(T.jsxs)("div",{className:"legend",children:[Object(T.jsx)("i",{className:"fas fa-circle text-info"}),"Tesla Model S ",Object(T.jsx)("i",{className:"fas fa-circle text-danger"}),"BMW 5 Series"]}),Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"stats",children:[Object(T.jsx)("i",{className:"fas fa-check"}),"Data information certified"]})]})]})}),Object(T.jsx)(k.a,{md:"6",children:Object(T.jsxs)(S.a,{className:"card-tasks",children:[Object(T.jsxs)(S.a.Header,{children:[Object(T.jsx)(S.a.Title,{as:"h4",children:"Tasks"}),Object(T.jsx)("p",{className:"card-category",children:"Backend development"})]}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)("div",{className:"table-full-width",children:Object(T.jsx)(C.a,{children:Object(T.jsxs)("tbody",{children:[Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)(w.a.Check,{className:"mb-1 pl-0",children:Object(T.jsxs)(w.a.Check.Label,{children:[Object(T.jsx)(w.a.Check.Input,{defaultValue:"",type:"checkbox"}),Object(T.jsx)("span",{className:"form-check-sign"})]})})}),Object(T.jsx)("td",{children:'Sign contract for "What are conference organizers afraid of?"'}),Object(T.jsxs)("td",{className:"td-actions text-right",children:[Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-488980961",children:"Edit Task.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(T.jsx)("i",{className:"fas fa-edit"})})}),Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-506045838",children:"Remove.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(T.jsx)("i",{className:"fas fa-times"})})})]})]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)(w.a.Check,{className:"mb-1 pl-0",children:Object(T.jsxs)(w.a.Check.Label,{children:[Object(T.jsx)(w.a.Check.Input,{defaultChecked:!0,defaultValue:"",type:"checkbox"}),Object(T.jsx)("span",{className:"form-check-sign"})]})})}),Object(T.jsx)("td",{children:"Lines From Great Russian Literature? Or E-mails From My Boss?"}),Object(T.jsxs)("td",{className:"td-actions text-right",children:[Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-537440761",children:"Edit Task.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(T.jsx)("i",{className:"fas fa-edit"})})}),Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-21130535",children:"Remove.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(T.jsx)("i",{className:"fas fa-times"})})})]})]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)(w.a.Check,{className:"mb-1 pl-0",children:Object(T.jsxs)(w.a.Check.Label,{children:[Object(T.jsx)(w.a.Check.Input,{defaultChecked:!0,defaultValue:"",type:"checkbox"}),Object(T.jsx)("span",{className:"form-check-sign"})]})})}),Object(T.jsx)("td",{children:"Flooded: One year later, assessing what was lost and what was found when a ravaging rain swept through metro Detroit"}),Object(T.jsxs)("td",{className:"td-actions text-right",children:[Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-577232198",children:"Edit Task.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(T.jsx)("i",{className:"fas fa-edit"})})}),Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-773861645",children:"Remove.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(T.jsx)("i",{className:"fas fa-times"})})})]})]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)(w.a.Check,{className:"mb-1 pl-0",children:Object(T.jsxs)(w.a.Check.Label,{children:[Object(T.jsx)(w.a.Check.Input,{defaultChecked:!0,type:"checkbox"}),Object(T.jsx)("span",{className:"form-check-sign"})]})})}),Object(T.jsx)("td",{children:"Create 4 Invisible User Experiences you Never Knew About"}),Object(T.jsxs)("td",{className:"td-actions text-right",children:[Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-422471719",children:"Edit Task.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(T.jsx)("i",{className:"fas fa-edit"})})}),Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-829164576",children:"Remove.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(T.jsx)("i",{className:"fas fa-times"})})})]})]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)(w.a.Check,{className:"mb-1 pl-0",children:Object(T.jsxs)(w.a.Check.Label,{children:[Object(T.jsx)(w.a.Check.Input,{defaultValue:"",type:"checkbox"}),Object(T.jsx)("span",{className:"form-check-sign"})]})})}),Object(T.jsx)("td",{children:'Read "Following makes Medium better"'}),Object(T.jsxs)("td",{className:"td-actions text-right",children:[Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-160575228",children:"Edit Task.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(T.jsx)("i",{className:"fas fa-edit"})})}),Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-922981635",children:"Remove.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(T.jsx)("i",{className:"fas fa-times"})})})]})]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)(w.a.Check,{className:"mb-1 pl-0",children:Object(T.jsxs)(w.a.Check.Label,{children:[Object(T.jsx)(w.a.Check.Input,{defaultValue:"",disabled:!0,type:"checkbox"}),Object(T.jsx)("span",{className:"form-check-sign"})]})})}),Object(T.jsx)("td",{children:"Unfollow 5 enemies from twitter"}),Object(T.jsxs)("td",{className:"td-actions text-right",children:[Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-938342127",children:"Edit Task.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(T.jsx)("i",{className:"fas fa-edit"})})}),Object(T.jsx)(D.a,{overlay:Object(T.jsx)(I.a,{id:"tooltip-119603706",children:"Remove.."}),children:Object(T.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(T.jsx)("i",{className:"fas fa-times"})})})]})]})]})})})}),Object(T.jsxs)(S.a.Footer,{children:[Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:"stats",children:[Object(T.jsx)("i",{className:"now-ui-icons loader_refresh spin"}),"Updated 3 minutes ago"]})]})]})})]})]})})},B=a(24);var E=function(e){var t=Object(l.a)(e.functions,2),a=t[0],c=t[1],n=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(B.a)({},a,n))}))};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{className:"pr-1",md:"7",children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"userID (disabled)"}),Object(T.jsx)(w.a.Control,{defaultValue:a.userID,disabled:!0,placeholder:"userID",type:"text"})]})}),Object(T.jsx)(k.a,{className:"pl-1",md:"5",children:0==e.isCreate?Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"role (disabled)"}),Object(T.jsx)(w.a.Control,{defaultValue:a.role,disabled:!0,placeholder:"role",type:"text"})]}):Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"role"}),Object(T.jsxs)(w.a.Control,{as:"select",name:"role",onChange:n,children:[Object(T.jsx)("option",{children:"pupil"}),Object(T.jsx)("option",{children:"teacher"}),Object(T.jsx)("option",{children:"admin"})]})]})})]}),Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{className:"pr-1",md:"6",children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"user name"}),Object(T.jsx)(w.a.Control,{defaultValue:a.username,placeholder:"user name",type:"text",required:!0,name:"username",onChange:n})]})}),Object(T.jsx)(k.a,{className:"pl-1",md:"6",children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"password"}),Object(T.jsx)(w.a.Control,{defaultValue:a.password,placeholder:"password",type:"password",required:!0,name:"password",onChange:n})]})})]}),Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{className:"pr-1",md:"6",children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"first name"}),Object(T.jsx)(w.a.Control,{defaultValue:a.forename,placeholder:"first name",type:"text",required:!0,name:"forename",onChange:n})]})}),Object(T.jsx)(k.a,{className:"pl-1",md:"6",children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"last name"}),Object(T.jsx)(w.a.Control,{defaultValue:a.surname,placeholder:"last name",type:"text",required:!0,name:"surname",onChange:n})]})})]})]})};var z=function(e){var t=Object(c.useState)({}),a=Object(l.a)(t,2),n=a[0],s=a[1];Object(c.useEffect)((function(){s({userID:e.location.state.userID,role:e.location.state.role,username:e.location.state.username,password:g(e.location.state.password),forename:e.location.state.forename,surname:e.location.state.surname})}),[e.location]);var r=Object(c.useState)(null),i=Object(l.a)(r,2),o=i[0],j=i[1],u=Object(c.useState)(null),b=Object(l.a)(u,2),m=b[0],x=b[1],f=Object(c.useState)(!1),v=Object(l.a)(f,2),y=v[0],C=v[1];return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(h.a,{fluid:!0,children:Object(T.jsx)(N.a,{children:Object(T.jsx)(k.a,{md:"12",children:Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)(S.a.Title,{as:"h4",children:"My Profile"})}),Object(T.jsx)(S.a.Body,{children:Object(T.jsxs)(w.a,{onSubmit:function(t){t.preventDefault(),x(null),j(null),C(!0),d.a.put("https://digital-grading-system.herokuapp.com/api/v1/user/update/"+e.location.state.userID,{username:n.username,password:g(n.password),forename:n.forename,surname:n.surname},{headers:{Authorization:p()}}).then((function(t){setTimeout((function(){C(!1),1==t.data.error?x("user name already exists, try another one"):(j("updated success"),console.log("before submit: "+JSON.stringify(e.location.state)),console.log("after submit: "+JSON.stringify(t.data.user)),e.history.push({pathname:"/profile",state:t.data.user}))}),500)})).catch((function(e){C(!1),x(JSON.stringify(e))}))},children:[Object(T.jsx)(E,{functions:[n,s],isCreate:!1}),o&&Object(T.jsx)("p",{style:{color:"green"},children:o}),m&&Object(T.jsx)("p",{style:{color:"red"},children:m}),Object(T.jsx)(O.a,{className:"btn-fill pull-right",type:"submit",variant:"info",children:y?"Updating...":"Update profile"}),Object(T.jsx)("div",{className:"clearfix"})]})})]})})})})})},F=a(18),_=a(9),G=a.n(_),H=a(12),L=["user"];function M(e){var t=e.user,a=Object(F.a)(e,L),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(c.useState)(!1),j=Object(l.a)(o,2),u=j[0],b=j[1],h=Object(c.useState)(!1),m=Object(l.a)(h,2),x=m[0],f=m[1],v=Object(c.useState)(null),y=Object(l.a)(v,2),C=y[0],D=y[1],I=Object(c.useState)(null),A=Object(l.a)(I,2),B=A[0],z=A[1],_=Object(c.useState)({}),M=Object(l.a)(_,2),P=M[0],J=M[1];Object(c.useEffect)((function(){J({userID:t._id,role:t.role,username:t.username,password:g(t.password),forename:t.forename,surname:t.surname})}),[t]);var U=function(){var e=Object(H.a)(G.a.mark((function e(){var c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"YES"!==(c=prompt("Please confirm with YES for ".concat(t.forename," ").concat(t.surname)))&&"yes"!==c||d.a.delete("https://digital-grading-system.herokuapp.com/api/v1/user/delete/"+t._id,{headers:{Authorization:p(),role:t.role}}).then((function(e){1==e.data.error?(console.log(e.data.message),z(e.data.message)):(a.history.push({pathname:"/user",state:a.location.state}),i(!1))})).catch((function(e){console.log(e.message),z(JSON.stringify(e))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("tr",{onClick:function(){i(!r),b(!1),z(null),D(null)},children:[Object(T.jsx)("td",{children:t._id}),Object(T.jsx)("td",{children:t.role}),Object(T.jsx)("td",{children:t.username}),Object(T.jsx)("td",{children:t.forename}),Object(T.jsx)("td",{children:t.surname})]}),r&&Object(T.jsx)("tr",{children:Object(T.jsx)("td",{colSpan:"6",children:Object(T.jsxs)(w.a,{onSubmit:function(e){e.preventDefault(),z(null),D(null),f(!0),d.a.put("https://digital-grading-system.herokuapp.com/api/v1/user/update/"+t._id,{username:P.username,password:g(P.password),forename:P.forename,surname:P.surname},{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){f(!1),1==e.data.error?(console.log(e.data.error.message),z("user name already exists, try another one")):(b(!1),D("user updated"),a.location.state.userID==t._id?a.history.push({pathname:"/user",state:e.data.user}):a.history.push({pathname:"/user",state:a.location.state}),setTimeout((function(){D(null)}),2e3))}),500)})).catch((function(e){f(!1),console.log(e.message),z(JSON.stringify(e))}))},children:[u&&Object(T.jsx)(N.a,{children:Object(T.jsx)(k.a,{md:"12",children:Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)(S.a.Title,{as:"h4",children:"Update Profile"})}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)(E,{functions:[P,J],isCreate:!1})})]})})}),C&&Object(T.jsx)("p",{style:{color:"green"},children:C}),B&&Object(T.jsx)("p",{style:{color:"red"},children:B}),Object(T.jsxs)(N.a,{children:[Object(T.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",type:"submit",variant:"info",onClick:function(e){u||(e.preventDefault(),b(!0),z(null),D(null))},children:x?"Updating...":"Update"}),u&&!x&&Object(T.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"secondary",onClick:function(){b(!1),i(!1),z(null),D(null)},children:"Cancel"}),!u&&!x&&Object(T.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"danger",onClick:U,children:"Delete"})]})]})})})]})}var P=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!1),o=Object(l.a)(r,2),j=o[0],u=o[1],b=Object(c.useState)(!1),m=Object(l.a)(b,2),x=m[0],f=m[1],v=Object(c.useState)(null),y=Object(l.a)(v,2),D=y[0],I=y[1],A=Object(c.useState)(null),B=Object(l.a)(A,2),z=B[0],F=B[1],_=Object(c.useState)({role:"pupil"}),L=Object(l.a)(_,2),P=L[0],J=L[1];Object(c.useEffect)((function(){U()}),[e.location]);var U=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/list",{headers:{Authorization:p()}}).then((function(e){s(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(h.a,{fluid:!0,children:Object(T.jsx)(N.a,{children:Object(T.jsx)(k.a,{children:Object(T.jsxs)(S.a,{className:"strpied-tabled-with-hover",children:[Object(T.jsxs)(S.a.Header,{children:[Object(T.jsx)(S.a.Title,{as:"h4",children:"All Users"}),Object(T.jsx)("p",{className:"card-category"})]}),Object(T.jsxs)(S.a.Body,{className:"table-full-width table-responsive px-0",children:[Object(T.jsxs)(C.a,{className:"table-hover table-striped table-bordered",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{className:"border-0",children:"UserID"}),Object(T.jsx)("th",{className:"border-0",children:"Role"}),Object(T.jsx)("th",{className:"border-0",children:"User Name"}),Object(T.jsx)("th",{className:"border-0",children:"First Name"}),Object(T.jsx)("th",{className:"border-0",children:"Last Name"})]})}),Object(T.jsx)("tbody",{children:n.map((function(t,a){return Object(T.jsx)(M,Object(i.a)({user:t},e),a)}))})]}),Object(T.jsxs)(w.a,{onSubmit:function(t){t.preventDefault(),F(null),I(null),f(!0),console.log(P.password),d.a.post("https://digital-grading-system.herokuapp.com/api/v1/user/create/",{role:P.role,username:P.username,password:g(P.password),forename:P.forename,surname:P.surname},{headers:{Authorization:p()}}).then((function(t){setTimeout((function(){f(!1),1==t.data.error?(console.log(t.data.message),F("user name already exists, try another one")):(u(!1),I("user created"),e.history.push({pathname:"/user",state:e.location.state}),J((function(){return{role:"pupil",username:"",password:"",forename:"",surname:""}})),setTimeout((function(){I(null)}),3e3))}),500)})).catch((function(e){f(!1),console.log(e.message),F(JSON.stringify(e))}))},children:[j&&Object(T.jsx)(k.a,{md:"12",children:Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)(S.a.Title,{as:"h4",children:"Create Profile"})}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)(E,{functions:[P,J],isCreate:!0})})]})}),z&&Object(T.jsx)("p",{style:{color:"red"},children:z}),D&&Object(T.jsx)("p",{style:{color:"green"},children:D}),Object(T.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",type:"submit",variant:"info",onClick:function(e){j||(e.preventDefault(),u(!0))},children:x?"Creating...":j?"Create":"New User"}),j&&Object(T.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"secondary",onClick:function(){u(!1),F(null),I(null),J((function(){return{role:"pupil",username:"",password:"",forename:"",surname:""}}))},children:"Cancel"})]})]})]})})})})})},J=a(27),U=["subject"];var V=function(e){var t=e.subject,a=Object(F.a)(e,U),n=Object(c.useState)(null),s=Object(l.a)(n,2),r=s[0],o=s[1],j=Object(c.useState)({classID:a.class._id}),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(c.useState)([]),x=Object(l.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(0),y=Object(l.a)(v,2),C=y[0],D=y[1],I=Object(c.useState)(!1),A=Object(l.a)(I,2),E=A[0],z=A[1],_=Object(c.useState)(!1),L=Object(l.a)(_,2),M=L[0],P=L[1],J=Object(c.useState)(!1),V=Object(l.a)(J,2),R=V[0],q=V[1],W=Object(c.useState)(!1),Y=Object(l.a)(W,2),X=Y[0],K=Y[1],$=Object(c.useState)(null),Q=Object(l.a)($,2),Z=Q[0],ee=Q[1],te=Object(c.useState)(null),ae=Object(l.a)(te,2),ce=ae[0],ne=ae[1];Object(c.useEffect)((function(){h(Object(i.a)(Object(i.a)({},b),{},{subjectname:t.subjectname,teacherID:t.teacherID})),se(),re()}),[t]);var se=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/"+t.teacherID,{headers:{Authorization:p()}}).then((function(e){o(e.data.forename+" "+e.data.surname)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tests){e.next=3;break}return D(t.tests.length),e.abrupt("return");case 3:return e.next=5,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/subject/"+t.subjectID,{headers:{Authorization:p()}}).then((function(e){D(e.data.tests.length),z(e.data.archived)})).catch((function(e){}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.a.delete("https://digital-grading-system.herokuapp.com/api/v1/subject/delete/"+t.subjectID,{headers:{Authorization:p(),classID:a.class._id}}).then((function(e){a.history.push({pathname:"/class",state:a.location.state})})).catch((function(e){console.log(e.message),ne(JSON.stringify(e))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.a.get("https://digital-grading-system.herokuapp.com/api/v1/subject/archive/"+t.subjectID,{headers:{Authorization:p()}}).then((function(e){a.history.push({pathname:"/class",state:a.location.state})})).catch((function(e){console.log(e.message),ne(JSON.stringify(e))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e){var t=e.target,a=t.name,c=t.value;h((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(B.a)({},a,c))}))},je=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/list",{headers:{Authorization:p(),role:"teacher"}}).then((function(e){g(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(k.a,{md:"4",sm:"6",children:Object(T.jsx)(w.a,{onSubmit:function(e){if(e.preventDefault(),ne(null),ee(null),""!=b.teacherID){var c=a.class.subjects.find((function(e){return e.subjectname===b.subjectname}));b.subjectname!=t.subjectname&&c?ne("subject name already exists, try another one"):(console.log(b),K(!0),d.a.put("https://digital-grading-system.herokuapp.com/api/v1/subject/update/"+t.subjectID,b,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){K(!1),1==e.data.error?(console.log(e.data.message),ne("subject name already exists, try another one")):(q(!1),P(!1),ee("subject updated"),a.history.push({pathname:a.history.location.pathname,state:a.location.state}),se(),setTimeout((function(){ee(null)}),3e3))}),500)})).catch((function(e){K(!1),console.log(e.message),ne(JSON.stringify(e))})))}else ne("please assign a teacher")},children:Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{onClick:function(){R||a.disabled||t.archived||P(!M)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:Object(T.jsx)(S.a.Title,{as:"h4",children:R?Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"subject name"}),Object(T.jsx)(w.a.Control,{defaultValue:b.subjectname,placeholder:"role",type:"text",name:"subjectname",onChange:oe})]}):b.subjectname})}),Object(T.jsxs)(S.a.Body,{children:[R?Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"Teacher"}),Object(T.jsxs)(w.a.Control,{defaultValue:b.teacherID,as:"select",name:"teacherID",onChange:oe,children:[Object(T.jsx)("option",{value:""}),f.map((function(e,t){return Object(T.jsx)("option",{value:e._id,children:e.username},t)}))]})]}):Object(T.jsx)("p",{children:r}),M&&Object(T.jsxs)("p",{children:[C," tests"]}),Z&&Object(T.jsx)("p",{style:{color:"green"},children:Z}),ce&&Object(T.jsx)("p",{style:{color:"red"},children:ce}),E&&M&&Object(T.jsx)("h4",{children:"Archived"}),!E&&M&&Object(T.jsxs)(N.a,{children:[Object(T.jsx)(O.a,{className:"mx-3 my-2 btn-fill",type:"submit",variant:"primary",onClick:function(e){R||(e.preventDefault(),q(!0),je(),ne(null),ee(null))},children:X?"Updating...":"Update"}),R&&!X&&Object(T.jsx)(O.a,{className:"mx-3 my-2 btn-fill",variant:"secondary",onClick:function(){q(!1),P(!1),ne(null),ee(null),h({subjectname:t.subjectname,teacherID:t.teacherID})},children:"Cancel"}),!R&&!X&&0==C&&Object(T.jsx)(O.a,{className:"mx-3 my-2 btn-fill",variant:"danger",onClick:ie,children:"Delete"}),!R&&!X&&0!=C&&Object(T.jsx)(O.a,{className:"mx-3 my-2 btn-fill",variant:"warning",onClick:le,children:"Archive"})]})]})]})})})},R=["_class"],q=["pupil"];function W(e){var t=e._class,a=Object(F.a)(e,R),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],o=s[1],j=Object(c.useState)(!1),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(c.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(!1),y=Object(l.a)(v,2),C=y[0],D=y[1],I=Object(c.useState)(!1),A=Object(l.a)(I,2),E=A[0],z=A[1],_=Object(c.useState)(!1),L=Object(l.a)(_,2),M=L[0],P=L[1],U=Object(c.useState)(!1),q=Object(l.a)(U,2),W=q[0],X=q[1],K=Object(c.useState)(!1),$=Object(l.a)(K,2),Q=$[0],Z=$[1],ee=Object(c.useState)(null),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)(null),se=Object(l.a)(ne,2),re=se[0],ie=se[1],le=Object(c.useState)(null),oe=Object(l.a)(le,2),je=oe[0],ue=oe[1],de=Object(c.useState)(null),be=Object(l.a)(de,2),he=be[0],Oe=be[1],me=Object(c.useState)(null),pe=Object(l.a)(me,2),xe=pe[0],fe=pe[1],ge=Object(c.useState)(null),ve=Object(l.a)(ge,2),ye=ve[0],Ne=ve[1],ke=Object(c.useState)({}),Se=Object(l.a)(ke,2),Ce=Se[0],we=Se[1],De=Object(c.useState)(null),Ie=Object(l.a)(De,2),Te=Ie[0],Ae=Ie[1],Be=Object(c.useState)(null),Ee=Object(l.a)(Be,2),ze=Ee[0],Fe=Ee[1],_e=Object(c.useState)([]),Ge=Object(l.a)(_e,2),He=Ge[0],Le=Ge[1],Me=Object(c.useState)([]),Pe=Object(l.a)(Me,2),Je=Pe[0],Ue=Pe[1];Object(c.useEffect)((function(){we(Object(i.a)(Object(i.a)({},Ce),{},{classID:t._id})),Fe(t.classname)}),[t._id]);var Ve=function(){var e=Object(H.a)(G.a.mark((function e(){var c,n,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=Object(J.a)(t.subjects);try{for(c.s();!(n=c.n()).done;)s=n.value,d.a.delete("https://digital-grading-system.herokuapp.com/api/v1/subject/delete/"+s.subjectID,{headers:{Authorization:p(),classID:t._id}}).then((function(e){console.log(e.message)})),d.a.delete("https://digital-grading-system.herokuapp.com/api/v1/subject/archive/"+s.subjectID,{headers:{Authorization:p()}}).then((function(e){console.log(e.message)}))}catch(r){c.e(r)}finally{c.f()}P(!0),d.a.delete("https://digital-grading-system.herokuapp.com/api/v1/class/delete/"+t._id,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){a.history.push({pathname:"/class",state:a.location.state})}),500),P(!1),o(!1),we(null)})).catch((function(e){console.log(e.message),Ne(JSON.stringify(e))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(e){var t=e.target,a=t.name,c=t.value;we((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(B.a)({},a,c))}))},qe=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/list",{headers:{Authorization:p(),role:"teacher"}}).then((function(e){Le(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/list",{headers:{Authorization:p(),role:"pupil"}}).then((function(e){var a,c=[],n=Object(J.a)(e.data);try{var s=function(){var e=a.value;t.pupils.find((function(t){return t.pupilID==e._id}))||c.push(e)};for(n.s();!(a=n.n()).done;)s()}catch(r){n.e(r)}finally{n.f()}Ue(c)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(S.a,{children:[Object(T.jsxs)(S.a.Header,{onClick:function(){o(!r),Ne(null)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:[Object(T.jsx)(S.a.Title,{as:"h4",children:ze}),Object(T.jsxs)(S.a.Subtitle,{className:"text-muted text-right",children:["ClassID: ",t._id]})]}),Object(T.jsx)(S.a.Body,{children:r&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("hr",{}),Object(T.jsxs)(N.a,{children:[t.subjects.map((function(e,c){return Object(T.jsx)(V,Object(i.a)({subject:e,class:t},a),c)})),Object(T.jsx)(k.a,{md:"4",sm:"6",children:Object(T.jsxs)(w.a,{onSubmit:function(e){(e.preventDefault(),ie(null),ce(null),Ce.teacherID)?t.subjects.find((function(e){return e.subjectname===Ce.subjectname}))?ie("subject name already exists, try another one"):(g(!0),console.log(Ce),d.a.post("https://digital-grading-system.herokuapp.com/api/v1/subject/create/",Ce,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){g(!1),1==e.data.error?(console.log(e.data.message),ie(e.data.message)):(h(!1),ce("new subject created"),a.history.push({pathname:"/class",state:a.location.state}),we((function(){return{subjectname:"",teacherID:"",classID:t._id}})),setTimeout((function(){ce(null)}),3e3))}),500)})).catch((function(e){g(!1),console.log(e.message),ie(JSON.stringify(e))}))):ie("please assign a teacher")},children:[b&&Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"subject name"}),Object(T.jsx)(w.a.Control,{placeholder:"subject name",type:"text",name:"subjectname",onChange:Re})]})}),Object(T.jsx)(S.a.Body,{children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"Teacher"}),Object(T.jsxs)(w.a.Control,{as:"select",name:"teacherID",onChange:Re,children:[Object(T.jsx)("option",{value:""}),He.map((function(e,t){return Object(T.jsx)("option",{value:e._id,children:e.username},t)}))]})]})})]}),re&&Object(T.jsx)("p",{style:{color:"red"},children:re}),ae&&Object(T.jsx)("p",{style:{color:"green"},children:ae}),Object(T.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",type:"submit",variant:"primary",onClick:function(e){b||(e.preventDefault(),h(!0),qe())},children:f?"Adding...":b?"Add":"Add Subject"}),b&&Object(T.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",variant:"secondary",onClick:function(){h(!1),ie(null),ce(null),we((function(){return{subjectname:"",teacher:""}}))},children:"Cancel"})]})})]}),Object(T.jsx)("hr",{}),Object(T.jsxs)(N.a,{lg:"5",md:"4",sm:"3",children:[t.pupils.map((function(e,c){return Object(T.jsx)(Y,Object(i.a)({pupil:e,classID:t._id},a),c)})),Object(T.jsx)(k.a,{children:Object(T.jsxs)(w.a,{onSubmit:function(e){e.preventDefault(),Oe(null),ue(null),null!=Te?(d.a.post("https://digital-grading-system.herokuapp.com/api/v1/class/pupil/contain",{pupilID:Te},{headers:{Authorization:p()}}).then((function(e){e.data._id&&d.a.post("https://digital-grading-system.herokuapp.com/api/v1/class/"+e.data._id+"/pupil/assign",{pupilID:Te,assign:"false"},{headers:{Authorization:p()}})})),z(!0),d.a.post("https://digital-grading-system.herokuapp.com/api/v1/class/"+t._id+"/pupil/assign",{pupilID:Te,assign:"true"},{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){z(!1),1==e.data.error?(console.log(e.data.message),Oe("error")):(D(!1),ue("pupil assigned"),a.history.push({pathname:"/class",state:a.location.state}),Ae(null),setTimeout((function(){ue(null)}),3e3))}),500)})).catch((function(e){z(!1),console.log(e.message),Oe(JSON.stringify(e))}))):Oe("please assign a pupil")},children:[C&&Object(T.jsx)(S.a,{children:Object(T.jsx)(S.a.Body,{children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"Pupil"}),Object(T.jsxs)(w.a.Control,{as:"select",name:"pupilID",onChange:function(e){return Ae(e.target.value)},children:[Object(T.jsx)("option",{value:""}),Je.map((function(e,t){return Object(T.jsx)("option",{value:e._id,children:e.username})}))]})]})})}),he&&Object(T.jsx)("p",{style:{color:"red"},children:he}),je&&Object(T.jsx)("p",{style:{color:"green"},children:je}),Object(T.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",type:"submit",variant:"info",onClick:function(e){C||(e.preventDefault(),D(!0),We())},children:E?"Assigning...":C?"Assign":"Assign Pupil"}),C&&Object(T.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",variant:"secondary",onClick:function(){D(!1),Oe(null),ue(null),we((function(){return{subjectname:"",teacher:""}}))},children:"Cancel"})]})})]}),Object(T.jsx)("hr",{}),Object(T.jsxs)(w.a,{onSubmit:function(e){e.preventDefault(),Ne(null),fe(null),Z(!0),d.a.put("https://digital-grading-system.herokuapp.com/api/v1/class/update/"+t._id,{classname:ze},{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){Z(!1),1==e.data.error?(console.log(e.data.message),Ne("class name already exists, try another one"),Fe(t.classname)):(X(!1),fe("class updated"),a.history.push({pathname:"/class",state:a.location.state}),setTimeout((function(){fe(null)}),3e3))}),500)})).catch((function(e){Z(!1),console.log(e.message),Ne(JSON.stringify(e))}))},children:[W&&Object(T.jsx)(N.a,{md:"3",children:Object(T.jsx)(k.a,{children:Object(T.jsx)(S.a,{children:Object(T.jsx)(S.a.Body,{children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"class name"}),Object(T.jsx)(w.a.Control,{defaultValue:ze,placeholder:"class name",type:"text",name:"classname",onChange:function(e){return Fe(e.target.value)}})]})})})})}),xe&&Object(T.jsx)("p",{style:{color:"green"},children:xe}),ye&&Object(T.jsx)("p",{style:{color:"red"},children:ye}),Object(T.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",type:"submit",variant:"success",onClick:function(e){W||(e.preventDefault(),X(!0))},children:Q?"updating...":W?"Update":"Update Class"}),W&&!Q&&Object(T.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",variant:"secondary",onClick:function(){X(!1),Ne(null),fe(null)},children:"Cancel"}),!W&&!Q&&Object(T.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",variant:"danger",onClick:Ve,children:M?"Deleting":"Delete Class"})]})]})})]})})}function Y(e){var t=e.pupil,a=Object(F.a)(e,q),n=a.classID,s=Object(c.useState)(null),r=Object(l.a)(s,2),i=r[0],o=r[1],j=Object(c.useState)(!1),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(c.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1];Object(c.useEffect)((function(){v()}),[t]);var v=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/"+t.pupilID,{headers:{Authorization:p()}}).then((function(e){o(e.data.forename+" "+e.data.surname)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(k.a,{children:Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{onClick:function(){h(!b)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:Object(T.jsx)(S.a.Title,{as:"h5",children:i})}),Object(T.jsx)(S.a.Body,{children:b&&Object(T.jsx)(O.a,{className:"mx-1 mt-2 btn-fill",type:"submit",variant:"danger",onClick:function(e){e.preventDefault(),g(!0),d.a.post("https://digital-grading-system.herokuapp.com/api/v1/class/"+n+"/pupil/assign",{pupilID:t.pupilID,assign:"false"},{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){g(!1),h(!1),1==e.data.error?console.log(e.data.message):a.history.push({pathname:"/class",state:a.location.state})}),500)})).catch((function(e){g(!1),console.log(e.message)}))},children:f?"Deassigning":"Deassign"})})]})})}var X=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!1),o=Object(l.a)(r,2),j=o[0],u=o[1],b=Object(c.useState)(!1),m=Object(l.a)(b,2),x=m[0],f=m[1],g=Object(c.useState)(null),v=Object(l.a)(g,2),y=v[0],C=v[1],D=Object(c.useState)(null),I=Object(l.a)(D,2),A=I[0],B=I[1],E=Object(c.useState)(null),z=Object(l.a)(E,2),F=z[0],_=z[1];Object(c.useEffect)((function(){L()}),[e.location]);var L=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/class/list",{headers:{Authorization:p()}}).then((function(e){s(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(h.a,{fluid:!0,children:Object(T.jsx)(N.a,{children:Object(T.jsxs)(k.a,{children:[n.map((function(t,a){return Object(T.jsx)(W,Object(i.a)({_class:t},e),a)})),Object(T.jsxs)(w.a,{onSubmit:function(t){t.preventDefault(),_(null),B(null),f(!0),d.a.post("https://digital-grading-system.herokuapp.com/api/v1/class/create/",{classname:y},{headers:{Authorization:p()}}).then((function(t){setTimeout((function(){f(!1),1==t.data.error?(console.log(t.data.message),_("class name already exists, try another one")):(u(!1),B("class created"),e.history.push({pathname:"/class",state:e.location.state}),setTimeout((function(){B(null)}),3e3))}),500),C("")})).catch((function(e){f(!1),console.log(e.message),_(JSON.stringify(e))}))},children:[j&&Object(T.jsx)(N.a,{md:"3",children:Object(T.jsx)(k.a,{children:Object(T.jsx)(S.a,{children:Object(T.jsx)(S.a.Body,{children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"class name"}),Object(T.jsx)(w.a.Control,{placeholder:"class name",type:"text",name:"classname",onChange:function(e){return C(e.target.value)}})]})})})})}),A&&Object(T.jsx)("p",{style:{color:"green"},children:A}),F&&Object(T.jsx)("p",{style:{color:"red"},children:F}),Object(T.jsx)(N.a,{children:Object(T.jsxs)(k.a,{children:[Object(T.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",type:"submit",variant:"success",onClick:function(e){j||(e.preventDefault(),u(!0))},children:x?"Creating...":j?"Create":"New Class"}),j&&Object(T.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",variant:"secondary",onClick:function(){u(!1),_(null),B(null)},children:"Cancel"})]})})]})]})})})})},K=a(60),$=["subject"],Q=["test"],Z=["grade"];function ee(e){var t=e.test,a=Object(F.a)(e,Q),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],o=s[1],j=Object(c.useState)(!1),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(c.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(!1),y=Object(l.a)(v,2),D=y[0],I=y[1],A=Object(c.useState)(!1),E=Object(l.a)(A,2),z=E[0],_=E[1],L=Object(c.useState)(null),M=Object(l.a)(L,2),P=M[0],U=M[1],V=Object(c.useState)(null),R=Object(l.a)(V,2),q=R[0],W=R[1],Y=Object(c.useState)(null),X=Object(l.a)(Y,2),K=X[0],$=X[1],Z=Object(c.useState)(null),ee=Object(l.a)(Z,2),ce=ee[0],ne=ee[1],se=Object(c.useState)({}),re=Object(l.a)(se,2),ie=re[0],le=re[1],oe=Object(c.useState)([]),je=Object(l.a)(oe,2),ue=je[0],de=je[1],be=Object(c.useState)([]),he=Object(l.a)(be,2),Oe=he[0],me=he[1],pe=Object(c.useState)([]),xe=Object(l.a)(pe,2),fe=xe[0],ge=xe[1];Object(c.useEffect)((function(){ve()}),[t]),Object(c.useEffect)((function(){ye()}),[ue]);var ve=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/test/"+t.testID,{headers:{Authorization:p()}}).then((function(e){le(Object(i.a)(Object(i.a)({},ie),{},{testname:e.data.testname,date:e.data.date})),de(e.data.grades)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e,t=[],c=Object(J.a)(a.pupils);try{var n=function(){var a=e.value;ue.find((function(e){return e.pupilID==a.pupilID}))||t.push(a)};for(c.s();!(e=c.n()).done;)n()}catch(s){c.e(s)}finally{c.f()}me(t)},Ne=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.a.delete("https://digital-grading-system.herokuapp.com/api/v1/test/delete/"+t.testID,{headers:{Authorization:p(),subjectID:a.subjectID}}).then((function(e){a.history.push({pathname:a.location.state.pathname,state:a.location.state})})).catch((function(e){console.log(e.message),W(JSON.stringify(e))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(e){var t=e.target,a=t.name,c=t.value;le((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(B.a)({},a,c))}))};return Object(T.jsx)(k.a,{children:Object(T.jsxs)(S.a,{children:[Object(T.jsxs)(S.a.Header,{onClick:function(){b||o(!r)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:[Object(T.jsxs)(S.a.Title,{as:"h4",children:["Test: ",ie.testname]}),Object(T.jsxs)(S.a.Subtitle,{className:"text-muted text-right",children:["Date: ",ie.date]})]}),Object(T.jsx)(S.a.Body,{children:r&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("hr",{}),Object(T.jsxs)(C.a,{className:"table-hover table-striped table-bordered",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{className:"border-0",children:"PupilID"}),Object(T.jsx)("th",{className:"border-0",children:"First Name"}),Object(T.jsx)("th",{className:"border-0",children:"Last Name"}),Object(T.jsx)("th",{className:"border-0",children:"Grade"})]})}),Object(T.jsx)("tbody",{children:ue.map((function(e,c){return Object(T.jsx)(te,Object(i.a)({grade:e,testID:t.testID,archived:a.archived},a),c)}))})]}),Object(T.jsxs)(w.a,{onSubmit:function(e){e.preventDefault(),ne(null),$(null),_(!0),d.a.post("https://digital-grading-system.herokuapp.com/api/v1/test/"+t.testID+"/grade/create/",fe,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){_(!1),1==e.data.error?(console.log(e.data.message),ne("error")):(I(!1),$("grade created"),a.history.push({pathname:a.history.location.pathname,state:a.location.state}),ge({}),setTimeout((function(){$(null)}),3e3))}),500)})).catch((function(e){_(!1),console.log(e.message),ne(JSON.stringify(e))}))},children:[D&&Object(T.jsx)(k.a,{md:"12",children:Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)(S.a.Title,{as:"h4",children:"Create Grade"})}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)(ae,{functions:[fe,ge],pupils:Oe,isCreate:!0})})]})}),ce&&Object(T.jsx)("p",{style:{color:"red"},children:ce}),K&&Object(T.jsx)("p",{style:{color:"green"},children:K}),!a.archived&&Object(T.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",type:"submit",variant:"success",onClick:function(e){D||(e.preventDefault(),I(!0))},children:z?"Creating...":D?"Create":"New Grade"}),D&&Object(T.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"secondary",onClick:function(){I(!1),ne(null),$(null),ge({})},children:"Cancel"})]}),Object(T.jsx)("hr",{}),Object(T.jsxs)(w.a,{onSubmit:function(e){e.preventDefault(),W(null),U(null),console.log(ie),g(!0),d.a.put("https://digital-grading-system.herokuapp.com/api/v1/test/update/"+t.testID,ie,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){g(!1),1==e.data.error?(console.log(e.data.message),W("error")):(h(!1),U("test updated"),a.history.push({pathname:a.history.location.pathname,state:a.location.state}),setTimeout((function(){U(null)}),3e3))}),500)})).catch((function(e){g(!1),console.log(e.message),W(JSON.stringify(e))}))},children:[b&&Object(T.jsx)(N.a,{children:Object(T.jsx)(k.a,{children:Object(T.jsx)(S.a,{children:Object(T.jsxs)(S.a.Body,{children:[Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"test name"}),Object(T.jsx)(w.a.Control,{defaultValue:ie.testname,placeholder:"test name",type:"text",name:"testname",onChange:ke})]}),Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"date"}),Object(T.jsx)(w.a.Control,{defaultValue:ie.date,placeholder:"date (yyyy-mm-dd)",type:"text",name:"date",onChange:ke})]})]})})})}),P&&Object(T.jsx)("p",{style:{color:"green"},children:P}),q&&Object(T.jsx)("p",{style:{color:"red"},children:q}),!a.archived&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",type:"submit",variant:"primary",onClick:function(e){b||(e.preventDefault(),h(!0),W(null),U(null))},children:f?"Updating...":"Update"}),b&&!f&&Object(T.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",variant:"secondary",onClick:function(){h(!1),W(null),U(null)},children:"Cancel"}),!b&&!f&&Object(T.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",variant:"danger",onClick:Ne,children:"Delete"})]})]})]})})]})})}function te(e){var t=e.grade,a=Object(F.a)(e,Z),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],o=s[1],j=Object(c.useState)(!1),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(c.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(null),y=Object(l.a)(v,2),C=y[0],D=y[1],I=Object(c.useState)(null),A=Object(l.a)(I,2),B=A[0],E=A[1],z=Object(c.useState)({pupilID:t.pupilID,grade:t.grade}),_=Object(l.a)(z,2),L=_[0],M=_[1],P=Object(c.useState)({}),J=Object(l.a)(P,2),U=J[0],V=J[1];Object(c.useEffect)((function(){R()}),[L]);var R=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/"+L.pupilID,{headers:{Authorization:p()}}).then((function(e){V(Object(i.a)(Object(i.a)({},L),{},{pupilname:e.data.username,forename:e.data.forename,surname:e.data.surname}))})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(H.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),E(null),D(null),g(!0),console.log(L),d.a.put("https://digital-grading-system.herokuapp.com/api/v1/test/"+a.testID+"/grade/update/",L,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){g(!1),1==e.data.error?(console.log(e.data.error.message),E("error")):(h(!1),D("grade updated"),a.history.push({pathname:a.history.location.pathname,state:a.location.state}),setTimeout((function(){D(null)}),2e3))}),500)})).catch((function(e){g(!1),console.log(e.message),E(JSON.stringify(e))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.a.delete("https://digital-grading-system.herokuapp.com/api/v1/test/"+a.testID+"/grade/delete",{headers:{Authorization:p(),pupilID:L.pupilID}}).then((function(e){a.history.push({pathname:a.location.state.pathname,state:a.location.state})})).catch((function(e){console.log(e.message),setTestError(JSON.stringify(e))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("tr",{onClick:function(){a.disabled||a.archived||(o(!r),h(!1),E(null),D(null))},children:[Object(T.jsx)("td",{children:L.pupilID}),Object(T.jsx)("td",{children:U.forename}),Object(T.jsx)("td",{children:U.surname}),Object(T.jsx)("td",{children:L.grade})]}),r&&Object(T.jsx)("tr",{children:Object(T.jsx)("td",{colSpan:"4",children:Object(T.jsxs)(w.a,{onSubmit:q,children:[b&&Object(T.jsx)(N.a,{className:"justify-content-center",children:Object(T.jsx)(k.a,{md:"12",children:Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)(S.a.Title,{as:"h4",children:"Update Grade"})}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)(ae,{name:U,functions:[L,M],isCreate:!1})})]})})}),C&&Object(T.jsx)("p",{style:{color:"green"},children:C}),B&&Object(T.jsx)("p",{style:{color:"red"},children:B}),Object(T.jsxs)(N.a,{children:[Object(T.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",type:"submit",variant:"success",onClick:function(e){b||(e.preventDefault(),h(!0),E(null),D(null))},children:f?"Updating...":"Update"}),b&&!f&&Object(T.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"secondary",onClick:function(){h(!1),o(!1),E(null),D(null)},children:"Cancel"}),!b&&!f&&Object(T.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"danger",onClick:W,children:"Delete"})]})]})})})]})}function ae(e){var t=Object(l.a)(e.functions,2),a=t[0],n=t[1],s=e.name,r=Object(c.useState)([]),o=Object(l.a)(r,2),j=o[0],u=o[1],b=function(e){var t=e.target,a=t.name,c=t.value;n((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(B.a)({},a,c))}))};Object(c.useEffect)((function(){h()}),[e.pupils]);var h=function(){var t=Object(H.a)(G.a.mark((function t(){var a,c,n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pupils){t.next=17;break}a=Object(J.a)(e.pupils),t.prev=2,n=G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.value,e.next=3,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/"+t.pupilID,{headers:{Authorization:p()}}).then((function(e){u((function(a){return[].concat(Object(K.a)(a),[{pupilID:t.pupilID,pupilname:e.data.username,forename:e.data.forename,surname:e.data.surname}])}))})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})),a.s();case 5:if((c=a.n()).done){t.next=9;break}return t.delegateYield(n(),"t0",7);case 7:t.next=5;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(2),a.e(t.t1);case 14:return t.prev=14,a.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})));return function(){return t.apply(this,arguments)}}();return Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{className:"pr-1",md:"7",children:0==e.isCreate?Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"pupil name (disabled)"}),Object(T.jsx)(w.a.Control,{defaultValue:s.pupilname,disabled:!0,placeholder:"pupil name",type:"text"})]}):Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"Pupil"}),Object(T.jsxs)(w.a.Control,{as:"select",name:"pupilID",onChange:b,children:[Object(T.jsx)("option",{value:""}),j.map((function(e,t){return Object(T.jsx)("option",{value:e.pupilID,children:e.pupilname},t)}))]})]})}),Object(T.jsx)(k.a,{className:"pr-1",md:"5",children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"grade"}),Object(T.jsx)(w.a.Control,{defaultValue:a.grade,required:!0,placeholder:"grade",type:"text",name:"grade",onChange:b})]})})]})}var ce=function(e){var t=e.subject,a=Object(F.a)(e,$),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],o=s[1],j=Object(c.useState)(!1),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(c.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(null),y=Object(l.a)(v,2),D=y[0],I=y[1],A=Object(c.useState)(null),E=Object(l.a)(A,2),z=E[0],_=E[1],L=Object(c.useState)(),M=Object(l.a)(L,2),P=M[0],U=M[1],V=Object(c.useState)(new Set),R=Object(l.a)(V,2),q=R[0],W=R[1],Y=Object(c.useState)(new Set),X=Object(l.a)(Y,2),Q=X[0],Z=X[1];Object(c.useEffect)((function(){U(Object(i.a)(Object(i.a)({},P),{},{subjectID:t._id})),ae()}),[t]),Object(c.useEffect)((function(){ce()}),[q,a.history]);var ae=function(){var e=Object(H.a)(G.a.mark((function e(){var a,c,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.archived){e.next=19;break}a=Object(J.a)(t.tests),e.prev=2,a.s();case 4:if((c=a.n()).done){e.next=10;break}return n=c.value,e.next=8,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/test/"+n.testID,{headers:{Authorization:p()}}).then((function(e){var t,a=Object(J.a)(e.data.grades);try{var c=function(){var e=t.value,a=JSON.stringify({pupilID:e.pupilID});W((function(e){return new Set(e).add(a)}))};for(a.s();!(t=a.n()).done;)c()}catch(n){a.e(n)}finally{a.f()}})).catch((function(e){}));case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),a.e(e.t0);case 15:return e.prev=15,a.f(),e.finish(15);case 18:return e.abrupt("return");case 19:return e.next=21,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/list",{headers:{Authorization:p(),subjectID:t._id}}).then((function(e){W((function(t){return new Set(e.data.pupils)}))})).catch((function(e){}));case 21:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(H.a)(G.a.mark((function e(){var a,c,n,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z([]),a=null,c=G.a.mark((function e(){var c,r,i,l,o,j,u,b;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"===typeof(c=s[n])?a=JSON.parse(c):"object"===typeof c&&(a=c),r=0,i=0,l=Object(J.a)(t.tests),e.prev=5,l.s();case 7:if((o=l.n()).done){e.next=13;break}return j=o.value,e.next=11,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/test/"+j.testID+"/grade/"+a.pupilID,{headers:{Authorization:p()}}).then((function(e){r+=e.data.grades[0].grade,i+=1})).catch((function(e){}));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),l.e(e.t0);case 18:return e.prev=18,l.f(),e.finish(18);case 21:u=0==i?0:r/i,b={pupilID:a.pupilID,grade:u},Z((function(e){return new Set(e).add(JSON.stringify(b))}));case 24:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})),n=0,s=Object(K.a)(q);case 4:if(!(n<s.length)){e.next=9;break}return e.delegateYield(c(),"t0",6);case 6:n++,e.next=4;break;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(e){var t=e.target,a=t.name,c=t.value;U((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(B.a)({},a,c))}))};return Object(T.jsxs)(S.a,{children:[Object(T.jsxs)(S.a.Header,{onClick:function(){o(!r)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:[Object(T.jsxs)(S.a.Title,{as:"h4",children:["Subject: ",t.subjectname]}),Object(T.jsxs)(S.a.Subtitle,{className:"text-muted text-right",children:["SubjectID: ",t._id]})]}),Object(T.jsx)(S.a.Body,{children:r&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("hr",{}),Object(T.jsx)(N.a,{children:Object(T.jsx)(k.a,{children:Object(T.jsxs)(C.a,{className:"table-hover table-striped table-bordered",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{className:"border-0",children:"PupilID"}),Object(T.jsx)("th",{className:"border-0",children:"First Name"}),Object(T.jsx)("th",{className:"border-0",children:"Last Name"}),Object(T.jsx)("th",{className:"border-0",children:"Average Grade"})]})}),Object(T.jsx)("tbody",{children:Object(K.a)(Q).map((function(e,t){return Object(T.jsx)(te,Object(i.a)({grade:JSON.parse(e),disabled:"true"},a),t)}))})]})})}),Object(T.jsx)("hr",{}),Object(T.jsx)(N.a,{sm:"1",children:t.tests.map((function(e,c){return Object(T.jsx)(ee,Object(i.a)({test:e,subjectID:t._id,pupils:q,archived:t.archived},a),c)}))}),Object(T.jsx)("hr",{}),Object(T.jsx)(N.a,{children:Object(T.jsx)(k.a,{children:Object(T.jsxs)(w.a,{onSubmit:function(e){e.preventDefault(),_(null),I(null),g(!0),console.log(P),d.a.post("https://digital-grading-system.herokuapp.com/api/v1/test/create/",P,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){g(!1),1==e.data.error?(console.log(e.data.message),_("error")):(h(!1),I("new test created"),a.history.push({pathname:"/subject",state:a.location.state}),U((function(){return{testname:"",date:null,subjectID:t._id}})),setTimeout((function(){I(null)}),3e3))}),500)})).catch((function(e){g(!1),console.log(e.message),_(JSON.stringify(e))}))},children:[b&&Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"test name"}),Object(T.jsx)(w.a.Control,{placeholder:"test name",type:"text",name:"testname",onChange:ne})]})}),Object(T.jsx)(S.a.Body,{children:Object(T.jsxs)(w.a.Group,{children:[Object(T.jsx)("label",{children:"Date"}),Object(T.jsx)(w.a.Control,{placeholder:"date",type:"text",name:"date",onChange:ne})]})})]}),z&&Object(T.jsx)("p",{style:{color:"red"},children:z}),D&&Object(T.jsx)("p",{style:{color:"green"},children:D}),!t.archived&&Object(T.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",type:"submit",variant:"primary",onClick:function(e){b||(e.preventDefault(),h(!0))},children:f?"Adding...":b?"Add":"Add Test"}),b&&Object(T.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",variant:"secondary",onClick:function(){h(!1),_(null),I(null),U((function(){return{testname:"",date:null}}))},children:"Cancel"})]})})})]})})]})},ne=["subject"],se=["testID"];function re(e){var t=e.testID,a=Object(F.a)(e,se),n=Object(c.useState)({}),s=Object(l.a)(n,2),r=s[0],o=s[1],j=Object(c.useState)(0),u=Object(l.a)(j,2),b=u[0],h=u[1];Object(c.useEffect)((function(){m(),O()}),[a.history]);var O=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/test/"+t+"/grade/"+a.history.location.state.userID,{headers:{Authorization:p()}}).then((function(e){h(e.data.grades[0].grade),console.log(e.data.grades[0].grade)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/test/"+t,{headers:{Authorization:p()}}).then((function(e){o(Object(i.a)(Object(i.a)({},r),{},{testname:e.data.testname,date:e.data.date}))})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(k.a,{sm:"6",children:Object(T.jsxs)(S.a,{children:[Object(T.jsxs)(S.a.Header,{children:[Object(T.jsx)(S.a.Title,{as:"h4",children:r.testname}),Object(T.jsxs)(S.a.Subtitle,{className:"text-muted text-right",children:["Date: ",r.date]})]}),Object(T.jsxs)(S.a.Body,{children:["My Grade: ",b]})]})})}var ie=function(e){var t=e.subject,a=Object(F.a)(e,ne),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],o=s[1],j=Object(c.useState)([]),u=Object(l.a)(j,2),b=u[0],h=u[1],O=Object(c.useState)(null),m=Object(l.a)(O,2),x=m[0],f=m[1];Object(c.useEffect)((function(){g()}),[a.history]),Object(c.useEffect)((function(){v()}),[b]);var g=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/subject/"+t.subjectID,{headers:{Authorization:p()}}).then((function(e){console.log(e.data.tests),h(e.data.tests)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(H.a)(G.a.mark((function e(){var t,c,n,s,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,c=0,n=Object(J.a)(b),e.prev=3,n.s();case 5:if((s=n.n()).done){e.next=11;break}return r=s.value,e.next=9,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/test/"+r.testID+"/grade/"+a.history.location.state.userID,{headers:{Authorization:p()}}).then((function(e){t+=e.data.grades[0].grade,c+=1})).catch((function(e){}));case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:f(0==c?0:t/c);case 21:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(S.a,{children:[Object(T.jsxs)(S.a.Header,{onClick:function(){o(!r)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:[Object(T.jsx)(S.a.Title,{as:"h4",children:t.subjectname}),Object(T.jsxs)(S.a.Subtitle,{className:"text-muted text-right",children:["SubjectID: ",t._id]})]}),Object(T.jsxs)(S.a.Body,{children:["My Average Grade: ",x,r&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("hr",{}),Object(T.jsx)(N.a,{sm:"1",children:0!=b.length?Object(T.jsx)(T.Fragment,{children:b.map((function(e,t){return Object(T.jsx)(re,Object(i.a)({testID:e.testID},a),t)}))}):Object(T.jsx)(k.a,{children:"No tests so far"})})]})]})]})},le=["allSubject"],oe=["allSubject"],je=["allSubject"];function ue(e){var t=e.allSubject,a=Object(F.a)(e,le);return Object(T.jsxs)(h.a,{fluid:!0,children:[Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)(S.a.Title,{as:"h4",children:"Active Subjects"})}),Object(T.jsx)("hr",{}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)(N.a,{children:t.filter((function(e){return!e.archived})).map((function(e,t){return Object(T.jsx)(V,Object(i.a)({subject:e,class:""},a),t)}))})})]}),Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)(S.a.Title,{as:"h4",children:"Archived Subjects"})}),Object(T.jsx)("hr",{}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)(N.a,{children:t.filter((function(e){return e.archived})).map((function(e,t){return Object(T.jsx)(V,Object(i.a)({subject:e,class:""},a),t)}))})})]})]})}function de(e){var t=e.allSubject,a=Object(F.a)(e,oe);return Object(T.jsxs)(h.a,{fluid:!0,children:[Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)(S.a.Title,{as:"h4",children:"Active Subjects"})}),Object(T.jsx)("hr",{}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)(N.a,{sm:"1",children:Object(T.jsx)(k.a,{children:t.filter((function(e){return!e.archived})).map((function(e,t){return Object(T.jsx)(ce,Object(i.a)({subject:e},a),t)}))})})})]}),Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)(S.a.Title,{as:"h4",children:"Archived Subjects"})}),Object(T.jsx)("hr",{}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)(N.a,{children:Object(T.jsx)(k.a,{children:t.filter((function(e){return e.archived})).map((function(e,t){return Object(T.jsx)(ce,Object(i.a)({subject:e},a),t)}))})})})]})]})}function be(e){var t=e.allSubject,a=Object(F.a)(e,je);return Object(T.jsxs)(h.a,{fluid:!0,children:[Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)(S.a.Title,{as:"h4",children:"Active Subjects"})}),Object(T.jsx)("hr",{}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)(N.a,{sm:"1",children:Object(T.jsx)(k.a,{children:t.map((function(e){return Object(T.jsx)(ie,Object(i.a)({subject:e},a))}))})})})]}),Object(T.jsxs)(S.a,{children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)(S.a.Title,{as:"h4",children:"Archived Subjects"})}),Object(T.jsx)("hr",{}),Object(T.jsx)(S.a.Body,{children:Object(T.jsx)(N.a,{})})]})]})}var he=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],r=function(){var t=Object(H.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("teacher"!=e.history.location.state.role){t.next=5;break}return t.next=3,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/subject/list",{headers:{Authorization:p(),teacherID:e.history.location.state.userID}}).then((function(e){s(e.data)})).catch((function(e){}));case 3:t.next=12;break;case 5:if("admin"!=e.history.location.state.role){t.next=10;break}return t.next=8,d.a.get("https://digital-grading-system.herokuapp.com/api/v1/subject/list",{headers:{Authorization:p()}}).then((function(e){s(e.data)})).catch((function(e){}));case 8:t.next=12;break;case 10:return t.next=12,d.a.post("https://digital-grading-system.herokuapp.com/api/v1/class/pupil/contain",{pupilID:e.history.location.state.userID},{headers:{Authorization:p()}}).then((function(e){s(e.data.subjects)})).catch((function(e){}));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){r()}),[e.location]),Object(T.jsx)(T.Fragment,{children:"teacher"==e.history.location.state.role?Object(T.jsx)(de,Object(i.a)({allSubject:n},e)):"admin"==e.history.location.state.role?Object(T.jsx)(ue,Object(i.a)({allSubject:n,disabled:"true"},e)):Object(T.jsx)(be,Object(i.a)({allSubject:n},e))})},Oe=a(133),me=a(83),pe=function(e){var t=Object(c.useState)(e),a=Object(l.a)(t,2),n=a[0],s=a[1];return{value:n,onChange:function(e){s(e.target.value)}}},xe=[{path:"/dashboard",name:"Dashboard",icon:"nc-icon nc-chart-pie-36",component:A,layout:"/admin"},{path:"/profile",name:"My Profile",icon:"nc-icon nc-circle-09",component:z,layout:"/admin"},{path:"/user",name:"Users",icon:"nc-icon nc-notes",component:P,layout:"/admin"},{path:"/class",name:"Classes",icon:"nc-icon nc-ruler-pencil",component:X,layout:"/admin"},{path:"/subject",name:"Subjects",icon:"nc-icon nc-planet",component:he,layout:"/admin"}],fe=[{path:"/dashboard",name:"Dashboard",icon:"nc-icon nc-chart-pie-35",component:A,layout:"/teacher"},{path:"/profile",name:"My Profile",icon:"nc-icon nc-circle-09",component:z,layout:"/teacher"},{path:"/subject",name:"My Subjects",icon:"nc-icon nc-planet",component:he,layout:"/teacher"}],ge=[{path:"/dashboard",name:"Dashboard",icon:"nc-icon nc-chart-pie-35",component:A,layout:"/pupil"},{path:"/profile",name:"My Profile",icon:"nc-icon nc-circle-09",component:z,layout:"/pupil"},{path:"/subject",name:"My Subjects",icon:"nc-icon nc-planet",component:he,layout:"/pupil"}],ve=[{path:"/login",name:"Login",icon:"ni ni-key-25 text-info",component:function(e){var t=pe(""),a=pe(""),n=Object(c.useState)(null),s=Object(l.a)(n,2),r=s[0],o=s[1],j=Object(c.useState)(!1),u=Object(l.a)(j,2),b=u[0],h=u[1];return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(k.a,{md:"9",lg:"6",children:[Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsxs)(S.a,{className:"shadow border-0",children:[Object(T.jsx)(S.a.Header,{children:Object(T.jsx)("div",{className:"text-muted text-center mt-2 mb-3",children:Object(T.jsx)("h3",{children:"Welcome to Digital Grading System"})})}),Object(T.jsx)(S.a.Body,{children:Object(T.jsxs)(w.a,{children:[Object(T.jsxs)("div",{className:"mx-5",children:[Object(T.jsxs)(Oe.a,{className:"mb-3",children:[Object(T.jsx)(Oe.a.Prepend,{children:Object(T.jsx)(Oe.a.Text,{children:Object(T.jsx)("i",{className:"nc-icon nc-circle-09"})})}),Object(T.jsx)(me.a,Object(i.a)({placeholder:"Username"},t))]}),Object(T.jsxs)(Oe.a,{className:"mb-3",children:[Object(T.jsx)(Oe.a.Prepend,{children:Object(T.jsx)(Oe.a.Text,{children:Object(T.jsx)("i",{className:"nc-icon nc-key-25"})})}),Object(T.jsx)(me.a,Object(i.a)({type:"password",placeholder:"Password"},a))]}),r&&Object(T.jsx)("p",{style:{color:"red"},children:r})]}),Object(T.jsx)("div",{className:"text-center",children:Object(T.jsx)(O.a,{className:"btn-fill pull-right",variant:"info",onClick:function(){o(null),h(!0);var c=g(a.value);d.a.post("https://digital-grading-system.herokuapp.com/api/v1/user/login",{username:t.value,password:c}).then((function(t){h(!1),f(t.data),e.history.push({pathname:"/dashboard",state:t.data.user})})).catch((function(e){h(!1),401===e.response.status||400===e.response.status?o(e.response.data.message):o("Something went wrong. Please try again later.")}))},disabled:b,children:b?"Loading...":"Login"})})]})})]})]})})},layout:"/auth"}];var ye=function(e){var t=Object(j.g)(),a=Object(c.useState)([]),n=Object(l.a)(a,2),s=n[0],r=n[1];return Object(c.useEffect)((function(){"pupil"==e.state.role?r(ge):"teacher"==e.state.role?r(fe):r(xe)}),[]),Object(T.jsx)(b.a,{bg:"light",expand:"lg",children:Object(T.jsxs)(h.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-center align-items-center ml-2 ml-lg-0",children:[Object(T.jsx)(O.a,{variant:"dark",className:"d-lg-none btn-fill d-flex justify-content-center align-items-center rounded-circle p-2",onClick:function(e){e.preventDefault(),document.documentElement.classList.toggle("nav-open");var t=document.createElement("div");t.id="bodyClick",t.onclick=function(){this.parentElement.removeChild(this),document.documentElement.classList.toggle("nav-open")},document.body.appendChild(t)},children:Object(T.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(T.jsx)(b.a.Brand,{href:"#home",onClick:function(e){return e.preventDefault()},className:"mr-2",children:function(){for(var e=0;e<s.length;e++)if(-1!==t.pathname.indexOf(s[e].path))return s[e].name;return"Brand"}()})]}),Object(T.jsxs)(b.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"mr-2",children:[Object(T.jsx)("span",{className:"navbar-toggler-bar burger-lines"}),Object(T.jsx)("span",{className:"navbar-toggler-bar burger-lines"}),Object(T.jsx)("span",{className:"navbar-toggler-bar burger-lines"})]}),Object(T.jsx)(b.a.Collapse,{id:"basic-navbar-nav",children:Object(T.jsxs)(m.a,{className:"ml-auto",navbar:!0,children:[Object(T.jsx)(m.a.Item,{children:Object(T.jsx)(m.a.Link,{className:"m-0",href:"#pablo",onClick:function(e){return e.preventDefault()},disabled:"true",children:Object(T.jsxs)("span",{className:"no-icon",children:["Hi, ",e.state.forename+" "+e.state.surname]})})}),Object(T.jsx)(m.a.Item,{children:Object(T.jsx)(m.a.Link,{className:"m-0",href:"/login",onClick:function(){x()},children:Object(T.jsx)("span",{className:"no-icon",children:"Log out"})})})]})})]})})},Ne=a(88),ke=a(89),Se=a(91),Ce=a(90),we=function(e){Object(Se.a)(a,e);var t=Object(Ce.a)(a);function a(){return Object(Ne.a)(this,a),t.apply(this,arguments)}return Object(ke.a)(a,[{key:"render",value:function(){return Object(T.jsx)("footer",{className:"footer px-0 px-lg-3",children:Object(T.jsx)(h.a,{fluid:!0,children:Object(T.jsxs)("nav",{children:[Object(T.jsxs)("ul",{className:"footer-menu",children:[Object(T.jsx)("li",{children:Object(T.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Home"})}),Object(T.jsx)("li",{children:Object(T.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Company"})}),Object(T.jsx)("li",{children:Object(T.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Portfolio"})}),Object(T.jsx)("li",{children:Object(T.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Blog"})})]}),Object(T.jsxs)("p",{className:"copyright text-center",children:["\xa9 ",(new Date).getFullYear()," ",Object(T.jsx)("a",{href:"http://www.creative-tim.com",children:"Creative Tim"}),", made with love for a better web"]})]})})})}}]),a}(c.Component);a.p;var De=function(e){var t=e.color,c=e.image,n=e.routes,s=e.state,r=Object(j.g)();return Object(T.jsxs)("div",{className:"sidebar","data-image":c,"data-color":t,children:[Object(T.jsx)("div",{className:"sidebar-background",style:{backgroundImage:"url("+c+")"}}),Object(T.jsxs)("div",{className:"sidebar-wrapper",children:[Object(T.jsxs)("div",{className:"logo d-flex align-items-center justify-content-start",children:[Object(T.jsx)("a",{href:"/dashboard",className:"simple-text logo-mini mx-1",children:Object(T.jsx)("div",{className:"logo-img",children:Object(T.jsx)("img",{src:a(81).default,alt:"..."})})}),Object(T.jsx)("a",{className:"simple-text",href:"/dashboard",children:"Panda Foreign Language"})]}),Object(T.jsx)(m.a,{children:n.map((function(e,t){return e.redirect?null:Object(T.jsx)("li",{className:e.upgrade?"active active-pro":(a=e.path,r.pathname.indexOf(a)>-1?"active":""),children:Object(T.jsxs)(o.b,{to:{pathname:e.path,state:s},className:"nav-link",activeClassName:"active",children:[Object(T.jsx)("i",{className:e.icon}),Object(T.jsx)("p",{children:e.name})]})},t);var a}))})]})]})},Ie=a(141),Te=a(134),Ae=a.p+"static/media/sidebar-1.2ea74e53.jpg",Be=a.p+"static/media/sidebar-2.00b17713.jpg",Ee=a.p+"static/media/sidebar-3.9992d0ce.jpg",ze=a.p+"static/media/sidebar-4.b7eb4d1b.jpg";var Fe=function(e){var t=e.hasImage,a=e.setHasImage,c=e.color,n=e.setColor,s=e.image,r=e.setImage;return Object(T.jsx)("div",{className:"fixed-plugin",children:Object(T.jsxs)(Ie.a,{children:[Object(T.jsx)(Ie.a.Toggle,{id:"dropdown-fixed-plugin",variant:"",className:"text-white border-0 opacity-100",children:Object(T.jsx)("i",{className:"fas fa-cogs fa-2x mt-1"})}),Object(T.jsxs)(Ie.a.Menu,{children:[Object(T.jsxs)("li",{className:"adjustments-line d-flex align-items-center justify-content-between",children:[Object(T.jsx)("p",{children:"Background Image"}),Object(T.jsx)(w.a.Check,{type:"switch",id:"custom-switch-1-image",checked:t,onChange:a})]}),Object(T.jsxs)("li",{className:"adjustments-line mt-3",children:[Object(T.jsx)("p",{children:"Filters"}),Object(T.jsxs)("div",{className:"pull-right",children:[Object(T.jsx)(Te.a,{variant:"secondary",className:"black"===c?"active":"",onClick:function(){return n("black")}}),Object(T.jsx)(Te.a,{variant:"azure",className:"azure"===c?"active":"",onClick:function(){return n("azure")}}),Object(T.jsx)(Te.a,{variant:"green",className:"green"===c?"active":"",onClick:function(){return n("green")}}),Object(T.jsx)(Te.a,{variant:"orange",className:"orange"===c?"active":"",onClick:function(){return n("orange")}}),Object(T.jsx)(Te.a,{variant:"red",className:"red"===c?"active":"",onClick:function(){return n("red")}}),Object(T.jsx)(Te.a,{variant:"purple",className:"purple"===c?"active":"",onClick:function(){return n("purple")}})]}),Object(T.jsx)("div",{className:"clearfix"})]}),Object(T.jsx)("li",{className:"header-title",children:"Sidebar Images"}),Object(T.jsx)("li",{className:s===Ae?"active":"",children:Object(T.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:function(e){e.preventDefault(),r(Ae)},children:Object(T.jsx)("img",{alt:"...",src:Ae})})}),Object(T.jsx)("li",{className:s===Be?"active":"",children:Object(T.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:function(e){e.preventDefault(),r(Be)},children:Object(T.jsx)("img",{alt:"...",src:Be})})}),Object(T.jsx)("li",{className:s===Ee?"active":"",children:Object(T.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:function(e){e.preventDefault(),r(Ee)},children:Object(T.jsx)("img",{alt:"...",src:Ee})})}),Object(T.jsx)("li",{className:s===ze?"active":"",children:Object(T.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:function(e){e.preventDefault(),r(ze)},children:Object(T.jsx)("img",{alt:"...",src:ze})})}),Object(T.jsx)("li",{className:"button-container",children:Object(T.jsx)("div",{children:Object(T.jsx)(O.a,{block:!0,className:"btn-fill",href:"http://www.creative-tim.com/product/light-bootstrap-dashboard-react",rel:"noopener noreferrer",target:"_blank",variant:"info",children:"Download, it's free!"})})}),Object(T.jsx)("li",{className:"button-container",children:Object(T.jsx)("div",{children:Object(T.jsx)(O.a,{block:!0,className:"btn-fill",href:"http://www.creative-tim.com/product/light-bootstrap-dashboard-react",rel:"noopener noreferrer",target:"_blank",variant:"default",children:"Checkout docs."})})}),Object(T.jsx)("li",{className:"header-title pro-title text-center",children:"Want more components?"}),Object(T.jsx)("li",{className:"button-container",children:Object(T.jsx)("div",{children:Object(T.jsx)(O.a,{block:!0,className:"btn-fill",href:"http://www.creative-tim.com/product/light-bootstrap-dashboard-pro-react",rel:"noopener noreferrer",target:"_blank",variant:"primary",children:"Get The PRO Version!"})})}),Object(T.jsx)("li",{className:"header-title",id:"sharrreTitle",children:"Thank you for sharing!"}),Object(T.jsxs)("li",{className:"button-container mb-4",children:[Object(T.jsxs)(O.a,{className:"btn-social btn-outline btn-round sharrre",id:"twitter",variant:"twitter",children:[Object(T.jsx)("i",{className:"fab fa-twitter"}),"\xb7 256"]}),Object(T.jsxs)(O.a,{className:"btn-social btn-outline btn-round sharrre",id:"facebook",variant:"facebook",children:[Object(T.jsx)("i",{className:"fab fa-facebook-square"}),"\xb7 426"]})]})]})]})})};var _e=function(e){var t=Object(c.useState)(Ee),a=Object(l.a)(t,2),s=a[0],r=a[1],o=Object(c.useState)("black"),u=Object(l.a)(o,2),d=u[0],b=u[1],h=Object(c.useState)(!0),O=Object(l.a)(h,2),m=O[0],p=O[1],x=Object(c.useState)([]),f=Object(l.a)(x,2),g=f[0],v=f[1],y=Object(j.g)(),N=n.a.useRef(null);return Object(c.useEffect)((function(){if(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,N.current.scrollTop=0,window.innerWidth<768&&-1!==document.documentElement.className.indexOf("nav-open")){document.documentElement.classList.toggle("nav-open");var t=document.getElementById("bodyClick");t.parentNode.removeChild(t)}var a=e.location.state.role;v("pupil"==a?ge:"teacher"==a?fe:xe)}),[y]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"wrapper",children:[Object(T.jsx)(De,{color:d,image:m?s:"",routes:g,state:e.location.state}),Object(T.jsxs)("div",{className:"main-panel",ref:N,children:[Object(T.jsx)(ye,{state:e.location.state}),Object(T.jsx)("div",{className:"content",children:Object(T.jsx)(j.d,{children:function(e){return e.map((function(e,t){return Object(T.jsx)(j.b,{path:e.path,render:function(t){return Object(T.jsx)(e.component,Object(i.a)({},t))}},t)}))}(g)})}),Object(T.jsx)(we,{})]})]}),Object(T.jsx)(Fe,{hasImage:m,setHasImage:function(){return p(!m)},color:d,setColor:function(e){return b(e)},image:s,setImage:function(e){return r(e)}})]})},Ge=a(135),He=a(136),Le=a(137),Me=a(138),Pe=a(139),Je=a(146),Ue=function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("footer",{className:"py-5",children:Object(T.jsx)(Ge.a,{children:Object(T.jsxs)(He.a,{className:"align-items-center justify-content-xl-between",children:[Object(T.jsx)(Le.a,{xl:"6",children:Object(T.jsxs)("div",{className:"copyright text-center text-xl-left text-muted",children:["\xa9 ",(new Date).getFullYear()," ",Object(T.jsx)("a",{className:"font-weight-bold ml-1",href:"https://www.creative-tim.com?ref=adr-auth-footer",target:"_blank",children:"Creative Tim"})]})}),Object(T.jsx)(Le.a,{xl:"6",children:Object(T.jsxs)(Me.a,{className:"nav-footer justify-content-center justify-content-xl-end",children:[Object(T.jsx)(Pe.a,{children:Object(T.jsx)(Je.a,{href:"https://www.creative-tim.com?ref=adr-auth-footer",target:"_blank",children:"Creative Tim"})}),Object(T.jsx)(Pe.a,{children:Object(T.jsx)(Je.a,{href:"https://www.creative-tim.com/presentation?ref=adr-auth-footer",target:"_blank",children:"About Us"})}),Object(T.jsx)(Pe.a,{children:Object(T.jsx)(Je.a,{href:"http://blog.creative-tim.com?ref=adr-auth-footer",target:"_blank",children:"Blog"})}),Object(T.jsx)(Pe.a,{children:Object(T.jsx)(Je.a,{href:"https://github.com/creativetimofficial/argon-dashboard/blob/master/LICENSE.md?ref=adr-auth-footer",target:"_blank",children:"MIT License"})})]})})]})})})})};var Ve=function(){return Object(T.jsx)(b.a,{bg:"white",expand:"md",children:Object(T.jsxs)(h.a,{fluid:!0,children:[Object(T.jsxs)(b.a.Brand,{href:"#home",onClick:function(e){return e.preventDefault()},className:"mr-2",children:[Object(T.jsx)("img",{alt:"Panda",src:a(81).default,width:"40",height:"40",className:"d-inline-block"})," ","Panda Foreign Language School"]}),Object(T.jsxs)(b.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"mr-2",children:[Object(T.jsx)("span",{className:"navbar-toggler-bar burger-lines"}),Object(T.jsx)("span",{className:"navbar-toggler-bar burger-lines"}),Object(T.jsx)("span",{className:"navbar-toggler-bar burger-lines"})]}),Object(T.jsx)(b.a.Collapse,{id:"basic-navbar-nav",children:Object(T.jsx)(m.a,{className:"ml-auto",navbar:!0,children:Object(T.jsx)(m.a.Item,{children:Object(T.jsx)(m.a.Link,{className:"m-0",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(T.jsx)("span",{className:"no-icon",children:"About"})})})})})]})})},Re=function(){var e=n.a.useRef(null),t=Object(j.g)();n.a.useEffect((function(){return document.body.classList.add("bg-default"),function(){document.body.classList.remove("bg-default")}}),[]),n.a.useEffect((function(){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,e.current.scrollTop=0}),[t]);var a;return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"main-content",ref:e,children:[Object(T.jsx)(Ve,{}),Object(T.jsx)(h.a,{children:Object(T.jsx)(N.a,{className:"justify-content-center",children:Object(T.jsx)(j.d,{children:(a=ve,a.map((function(e,t){return"/auth"===e.layout?Object(T.jsx)(j.b,{path:e.path,component:e.component},t):null})))})})}),Object(T.jsx)(Ue,{})]})})};var qe=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){var e=p();e&&d.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/verify?token=".concat(e)).then((function(e){setTimeout((function(){f(e.data),n(!1)}),500)})).catch((function(e){x(),n(!1)}))}),[]),a&&p()?Object(T.jsx)("div",{children:"Checking Authentication..."}):Object(T.jsx)(o.a,{children:Object(T.jsxs)(j.d,{children:[Object(T.jsx)(j.b,{path:"/login",render:function(e){return p()?Object(T.jsx)(j.a,{to:"/dashboard"}):Object(T.jsx)(Re,Object(i.a)({},e))}}),Object(T.jsx)(j.b,{path:"/",render:function(e){return p()?Object(T.jsx)(_e,Object(i.a)({},e)):Object(T.jsx)(j.a,{to:"/login"})}}),Object(T.jsx)(j.a,{from:"*",to:"/dashboard"})]})})};r.a.render(Object(T.jsx)(qe,{}),document.getElementById("root"))},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/panda-small.48ce796b.jpg"}},[[123,1,2]]]);
//# sourceMappingURL=main.0193f427.chunk.js.map