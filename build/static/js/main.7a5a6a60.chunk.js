/*!

=========================================================
* Light Bootstrap Dashboard React - v2.0.0
=========================================================

* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react
* Copyright 2020 Creative Tim (https://www.creative-tim.com)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
/*! For license information please see main.7a5a6a60.chunk.js.LICENSE.txt */
(this["webpackJsonppande-foreign-language-school"]=this["webpackJsonppande-foreign-language-school"]||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(29),r=a.n(s),i=(a(66),a(67),a(68),a(69),a(70),a(10)),l=a(5),j=a(35),o=a(13),d=a(11),u=a.n(d),b=a(144),h=a(129),O=a(86),m=a(143),p=function(){return sessionStorage.getItem("token")||null},x=function(){sessionStorage.removeItem("token")},f=function(e){sessionStorage.setItem("token",e.token)},g=a(58),v=a.n(g),y=a(130),N=a(82),k=a(145),C=a(131),S=a(140),w=a(142),D=a(132),I=a(0);var T=function(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(h.a,{fluid:!0,children:[Object(I.jsxs)(y.a,{children:[Object(I.jsx)(N.a,{lg:"3",sm:"6",children:Object(I.jsxs)(k.a,{className:"card-stats",children:[Object(I.jsx)(k.a.Body,{children:Object(I.jsxs)(y.a,{children:[Object(I.jsx)(N.a,{xs:"5",children:Object(I.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(I.jsx)("i",{className:"nc-icon nc-chart text-warning"})})}),Object(I.jsx)(N.a,{xs:"7",children:Object(I.jsxs)("div",{className:"numbers",children:[Object(I.jsx)("p",{className:"card-category",children:"Number"}),Object(I.jsx)(k.a.Title,{as:"h4",children:"150GB"})]})})]})}),Object(I.jsxs)(k.a.Footer,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"stats",children:[Object(I.jsx)("i",{className:"fas fa-redo mr-1"}),"Update Now"]})]})]})}),Object(I.jsx)(N.a,{lg:"3",sm:"6",children:Object(I.jsxs)(k.a,{className:"card-stats",children:[Object(I.jsx)(k.a.Body,{children:Object(I.jsxs)(y.a,{children:[Object(I.jsx)(N.a,{xs:"5",children:Object(I.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(I.jsx)("i",{className:"nc-icon nc-light-3 text-success"})})}),Object(I.jsx)(N.a,{xs:"7",children:Object(I.jsxs)("div",{className:"numbers",children:[Object(I.jsx)("p",{className:"card-category",children:"Revenue"}),Object(I.jsx)(k.a.Title,{as:"h4",children:"$ 1,345"})]})})]})}),Object(I.jsxs)(k.a.Footer,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"stats",children:[Object(I.jsx)("i",{className:"far fa-calendar-alt mr-1"}),"Last day"]})]})]})}),Object(I.jsx)(N.a,{lg:"3",sm:"6",children:Object(I.jsxs)(k.a,{className:"card-stats",children:[Object(I.jsx)(k.a.Body,{children:Object(I.jsxs)(y.a,{children:[Object(I.jsx)(N.a,{xs:"5",children:Object(I.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(I.jsx)("i",{className:"nc-icon nc-vector text-danger"})})}),Object(I.jsx)(N.a,{xs:"7",children:Object(I.jsxs)("div",{className:"numbers",children:[Object(I.jsx)("p",{className:"card-category",children:"Errors"}),Object(I.jsx)(k.a.Title,{as:"h4",children:"23"})]})})]})}),Object(I.jsxs)(k.a.Footer,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"stats",children:[Object(I.jsx)("i",{className:"far fa-clock-o mr-1"}),"In the last hour"]})]})]})}),Object(I.jsx)(N.a,{lg:"3",sm:"6",children:Object(I.jsxs)(k.a,{className:"card-stats",children:[Object(I.jsx)(k.a.Body,{children:Object(I.jsxs)(y.a,{children:[Object(I.jsx)(N.a,{xs:"5",children:Object(I.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(I.jsx)("i",{className:"nc-icon nc-favourite-28 text-primary"})})}),Object(I.jsx)(N.a,{xs:"7",children:Object(I.jsxs)("div",{className:"numbers",children:[Object(I.jsx)("p",{className:"card-category",children:"Followers"}),Object(I.jsx)(k.a.Title,{as:"h4",children:"+45K"})]})})]})}),Object(I.jsxs)(k.a.Footer,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"stats",children:[Object(I.jsx)("i",{className:"fas fa-redo mr-1"}),"Update now"]})]})]})})]}),Object(I.jsxs)(y.a,{children:[Object(I.jsx)(N.a,{md:"8",children:Object(I.jsxs)(k.a,{children:[Object(I.jsxs)(k.a.Header,{children:[Object(I.jsx)(k.a.Title,{as:"h4",children:"Users Behavior"}),Object(I.jsx)("p",{className:"card-category",children:"24 Hours performance"})]}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)("div",{className:"ct-chart",id:"chartHours",children:Object(I.jsx)(v.a,{data:{labels:["9:00AM","12:00AM","3:00PM","6:00PM","9:00PM","12:00PM","3:00AM","6:00AM"],series:[[287,385,490,492,554,586,698,695],[67,152,143,240,287,335,435,437],[23,113,67,108,190,239,307,308]]},type:"Line",options:{low:0,high:800,showArea:!1,height:"245px",axisX:{showGrid:!1},lineSmooth:!0,showLine:!0,showPoint:!0,fullWidth:!0,chartPadding:{right:50}},responsiveOptions:[["screen and (max-width: 640px)",{axisX:{labelInterpolationFnc:function(e){return e[0]}}}]]})})}),Object(I.jsxs)(k.a.Footer,{children:[Object(I.jsxs)("div",{className:"legend",children:[Object(I.jsx)("i",{className:"fas fa-circle text-info"}),"Open ",Object(I.jsx)("i",{className:"fas fa-circle text-danger"}),"Click ",Object(I.jsx)("i",{className:"fas fa-circle text-warning"}),"Click Second Time"]}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"stats",children:[Object(I.jsx)("i",{className:"fas fa-history"}),"Updated 3 minutes ago"]})]})]})}),Object(I.jsx)(N.a,{md:"4",children:Object(I.jsxs)(k.a,{children:[Object(I.jsxs)(k.a.Header,{children:[Object(I.jsx)(k.a.Title,{as:"h4",children:"Email Statistics"}),Object(I.jsx)("p",{className:"card-category",children:"Last Campaign Performance"})]}),Object(I.jsxs)(k.a.Body,{children:[Object(I.jsx)("div",{className:"ct-chart ct-perfect-fourth",id:"chartPreferences",children:Object(I.jsx)(v.a,{data:{labels:["40%","20%","40%"],series:[40,20,40]},type:"Pie"})}),Object(I.jsxs)("div",{className:"legend",children:[Object(I.jsx)("i",{className:"fas fa-circle text-info"}),"Open ",Object(I.jsx)("i",{className:"fas fa-circle text-danger"}),"Bounce ",Object(I.jsx)("i",{className:"fas fa-circle text-warning"}),"Unsubscribe"]}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"stats",children:[Object(I.jsx)("i",{className:"far fa-clock"}),"Campaign sent 2 days ago"]})]})]})})]}),Object(I.jsxs)(y.a,{children:[Object(I.jsx)(N.a,{md:"6",children:Object(I.jsxs)(k.a,{children:[Object(I.jsxs)(k.a.Header,{children:[Object(I.jsx)(k.a.Title,{as:"h4",children:"2017 Sales"}),Object(I.jsx)("p",{className:"card-category",children:"All products including Taxes"})]}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)("div",{className:"ct-chart",id:"chartActivity",children:Object(I.jsx)(v.a,{data:{labels:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],series:[[542,443,320,780,553,453,326,434,568,610,756,895],[412,243,280,580,453,353,300,364,368,410,636,695]]},type:"Bar",options:{seriesBarDistance:10,axisX:{showGrid:!1},height:"245px"},responsiveOptions:[["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(e){return e[0]}}}]]})})}),Object(I.jsxs)(k.a.Footer,{children:[Object(I.jsxs)("div",{className:"legend",children:[Object(I.jsx)("i",{className:"fas fa-circle text-info"}),"Tesla Model S ",Object(I.jsx)("i",{className:"fas fa-circle text-danger"}),"BMW 5 Series"]}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"stats",children:[Object(I.jsx)("i",{className:"fas fa-check"}),"Data information certified"]})]})]})}),Object(I.jsx)(N.a,{md:"6",children:Object(I.jsxs)(k.a,{className:"card-tasks",children:[Object(I.jsxs)(k.a.Header,{children:[Object(I.jsx)(k.a.Title,{as:"h4",children:"Tasks"}),Object(I.jsx)("p",{className:"card-category",children:"Backend development"})]}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)("div",{className:"table-full-width",children:Object(I.jsx)(C.a,{children:Object(I.jsxs)("tbody",{children:[Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(I.jsx)(S.a.Check,{className:"mb-1 pl-0",children:Object(I.jsxs)(S.a.Check.Label,{children:[Object(I.jsx)(S.a.Check.Input,{defaultValue:"",type:"checkbox"}),Object(I.jsx)("span",{className:"form-check-sign"})]})})}),Object(I.jsx)("td",{children:'Sign contract for "What are conference organizers afraid of?"'}),Object(I.jsxs)("td",{className:"td-actions text-right",children:[Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-488980961",children:"Edit Task.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(I.jsx)("i",{className:"fas fa-edit"})})}),Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-506045838",children:"Remove.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(I.jsx)("i",{className:"fas fa-times"})})})]})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(I.jsx)(S.a.Check,{className:"mb-1 pl-0",children:Object(I.jsxs)(S.a.Check.Label,{children:[Object(I.jsx)(S.a.Check.Input,{defaultChecked:!0,defaultValue:"",type:"checkbox"}),Object(I.jsx)("span",{className:"form-check-sign"})]})})}),Object(I.jsx)("td",{children:"Lines From Great Russian Literature? Or E-mails From My Boss?"}),Object(I.jsxs)("td",{className:"td-actions text-right",children:[Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-537440761",children:"Edit Task.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(I.jsx)("i",{className:"fas fa-edit"})})}),Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-21130535",children:"Remove.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(I.jsx)("i",{className:"fas fa-times"})})})]})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(I.jsx)(S.a.Check,{className:"mb-1 pl-0",children:Object(I.jsxs)(S.a.Check.Label,{children:[Object(I.jsx)(S.a.Check.Input,{defaultChecked:!0,defaultValue:"",type:"checkbox"}),Object(I.jsx)("span",{className:"form-check-sign"})]})})}),Object(I.jsx)("td",{children:"Flooded: One year later, assessing what was lost and what was found when a ravaging rain swept through metro Detroit"}),Object(I.jsxs)("td",{className:"td-actions text-right",children:[Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-577232198",children:"Edit Task.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(I.jsx)("i",{className:"fas fa-edit"})})}),Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-773861645",children:"Remove.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(I.jsx)("i",{className:"fas fa-times"})})})]})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(I.jsx)(S.a.Check,{className:"mb-1 pl-0",children:Object(I.jsxs)(S.a.Check.Label,{children:[Object(I.jsx)(S.a.Check.Input,{defaultChecked:!0,type:"checkbox"}),Object(I.jsx)("span",{className:"form-check-sign"})]})})}),Object(I.jsx)("td",{children:"Create 4 Invisible User Experiences you Never Knew About"}),Object(I.jsxs)("td",{className:"td-actions text-right",children:[Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-422471719",children:"Edit Task.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(I.jsx)("i",{className:"fas fa-edit"})})}),Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-829164576",children:"Remove.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(I.jsx)("i",{className:"fas fa-times"})})})]})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(I.jsx)(S.a.Check,{className:"mb-1 pl-0",children:Object(I.jsxs)(S.a.Check.Label,{children:[Object(I.jsx)(S.a.Check.Input,{defaultValue:"",type:"checkbox"}),Object(I.jsx)("span",{className:"form-check-sign"})]})})}),Object(I.jsx)("td",{children:'Read "Following makes Medium better"'}),Object(I.jsxs)("td",{className:"td-actions text-right",children:[Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-160575228",children:"Edit Task.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(I.jsx)("i",{className:"fas fa-edit"})})}),Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-922981635",children:"Remove.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(I.jsx)("i",{className:"fas fa-times"})})})]})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(I.jsx)(S.a.Check,{className:"mb-1 pl-0",children:Object(I.jsxs)(S.a.Check.Label,{children:[Object(I.jsx)(S.a.Check.Input,{defaultValue:"",disabled:!0,type:"checkbox"}),Object(I.jsx)("span",{className:"form-check-sign"})]})})}),Object(I.jsx)("td",{children:"Unfollow 5 enemies from twitter"}),Object(I.jsxs)("td",{className:"td-actions text-right",children:[Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-938342127",children:"Edit Task.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"info",children:Object(I.jsx)("i",{className:"fas fa-edit"})})}),Object(I.jsx)(w.a,{overlay:Object(I.jsx)(D.a,{id:"tooltip-119603706",children:"Remove.."}),children:Object(I.jsx)(O.a,{className:"btn-simple btn-link p-1",type:"button",variant:"danger",children:Object(I.jsx)("i",{className:"fas fa-times"})})})]})]})]})})})}),Object(I.jsxs)(k.a.Footer,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"stats",children:[Object(I.jsx)("i",{className:"now-ui-icons loader_refresh spin"}),"Updated 3 minutes ago"]})]})]})})]})]})})},A=a(24);var B=function(e){var t=Object(l.a)(e.functions,2),a=t[0],c=t[1],n=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(A.a)({},a,n))}))};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(y.a,{children:[Object(I.jsx)(N.a,{className:"pr-1",md:"7",children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"userID (disabled)"}),Object(I.jsx)(S.a.Control,{defaultValue:a.userID,disabled:!0,placeholder:"userID",type:"text"})]})}),Object(I.jsx)(N.a,{className:"pl-1",md:"5",children:0==e.isCreate?Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"role (disabled)"}),Object(I.jsx)(S.a.Control,{defaultValue:a.role,disabled:!0,placeholder:"role",type:"text"})]}):Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"role"}),Object(I.jsxs)(S.a.Control,{as:"select",name:"role",onChange:n,children:[Object(I.jsx)("option",{children:"pupil"}),Object(I.jsx)("option",{children:"teacher"}),Object(I.jsx)("option",{children:"admin"})]})]})})]}),Object(I.jsxs)(y.a,{children:[Object(I.jsx)(N.a,{className:"pr-1",md:"6",children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"user name"}),Object(I.jsx)(S.a.Control,{defaultValue:a.username,placeholder:"user name",type:"text",required:!0,name:"username",onChange:n})]})}),Object(I.jsx)(N.a,{className:"pl-1",md:"6",children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"password"}),Object(I.jsx)(S.a.Control,{defaultValue:a.password,placeholder:"password",type:"password",required:!0,name:"password",onChange:n})]})})]}),Object(I.jsxs)(y.a,{children:[Object(I.jsx)(N.a,{className:"pr-1",md:"6",children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"first name"}),Object(I.jsx)(S.a.Control,{defaultValue:a.forename,placeholder:"first name",type:"text",required:!0,name:"forename",onChange:n})]})}),Object(I.jsx)(N.a,{className:"pl-1",md:"6",children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"last name"}),Object(I.jsx)(S.a.Control,{defaultValue:a.surname,placeholder:"last name",type:"text",required:!0,name:"surname",onChange:n})]})})]})]})};var E=function(e){var t=Object(c.useState)({userID:e.location.state.userID,role:e.location.state.role,username:e.location.state.username,password:e.location.state.password,forename:e.location.state.forename,surname:e.location.state.surname}),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(null),i=Object(l.a)(r,2),j=i[0],o=i[1],d=Object(c.useState)(null),b=Object(l.a)(d,2),m=b[0],x=b[1],f=Object(c.useState)(!1),g=Object(l.a)(f,2),v=g[0],C=g[1];return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(h.a,{fluid:!0,children:Object(I.jsx)(y.a,{children:Object(I.jsx)(N.a,{md:"12",children:Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)(k.a.Title,{as:"h4",children:"My Profile"})}),Object(I.jsx)(k.a.Body,{children:Object(I.jsxs)(S.a,{onSubmit:function(t){t.preventDefault(),x(null),o(null),C(!0),u.a.put("https://digital-grading-system.herokuapp.com/api/v1/user/update/"+e.location.state.userID,n,{headers:{Authorization:p()}}).then((function(t){setTimeout((function(){C(!1),1==t.data.error?x("user name already exists, try another one"):(o("updated success"),console.log("before submit: "+JSON.stringify(e.location.state)),console.log("after submit: "+JSON.stringify(t.data.user)),e.history.push({pathname:"/profile",state:t.data.user}))}),500)})).catch((function(e){C(!1),x(JSON.stringify(e))}))},children:[Object(I.jsx)(B,{functions:[n,s],isCreate:!1}),j&&Object(I.jsx)("p",{style:{color:"green"},children:j}),m&&Object(I.jsx)("p",{style:{color:"red"},children:m}),Object(I.jsx)(O.a,{className:"btn-fill pull-right",type:"submit",variant:"info",children:v?"Updating...":"Update profile"}),Object(I.jsx)("div",{className:"clearfix"})]})})]})})})})})},z=a(18),F=a(9),_=a.n(F),G=a(12),P=["user"];function H(e){var t=e.user,a=Object(z.a)(e,P),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],i=s[1],j=Object(c.useState)(!1),o=Object(l.a)(j,2),d=o[0],b=o[1],h=Object(c.useState)(!1),m=Object(l.a)(h,2),x=m[0],f=m[1],g=Object(c.useState)(null),v=Object(l.a)(g,2),C=v[0],w=v[1],D=Object(c.useState)(null),T=Object(l.a)(D,2),A=T[0],E=T[1],F=Object(c.useState)({userID:t._id,role:t.role,username:t.username,password:t.password,forename:t.forename,surname:t.surname}),H=Object(l.a)(F,2),L=H[0],M=H[1],U=function(){var e=Object(G.a)(_.a.mark((function e(){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"YES"===(c=prompt("Please confirm with YES for ".concat(t.forename," ").concat(t.surname)))||"yes"===c?u.a.delete("https://digital-grading-system.herokuapp.com/api/v1/user/delete/"+t._id,{headers:{Authorization:p()}}).then((function(e){a.history.push({pathname:"/user",state:a.location.state})})).catch((function(e){console.log(e.message),E(JSON.stringify(e))})):alert("Please confirm correctly");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("tr",{onClick:function(){i(!r),b(!1),E(null),w(null)},children:[Object(I.jsx)("td",{children:t._id}),Object(I.jsx)("td",{children:t.role}),Object(I.jsx)("td",{children:t.username}),Object(I.jsx)("td",{children:t.password}),Object(I.jsx)("td",{children:t.forename}),Object(I.jsx)("td",{children:t.surname})]}),r&&Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:"6",children:Object(I.jsxs)(S.a,{onSubmit:function(e){e.preventDefault(),E(null),w(null),f(!0),u.a.put("https://digital-grading-system.herokuapp.com/api/v1/user/update/"+t._id,L,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){f(!1),1==e.data.error?(console.log(e.data.error.message),E("user name already exists, try another one")):(b(!1),w("user updated"),a.location.state.userID==t._id?a.history.push({pathname:"/user",state:e.data.user}):a.history.push({pathname:"/user",state:a.location.state}),setTimeout((function(){w(null)}),2e3))}),500)})).catch((function(e){f(!1),console.log(e.message),E(JSON.stringify(e))}))},children:[Object(I.jsxs)(y.a,{children:[Object(I.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",type:"submit",variant:"info",onClick:function(e){d||(e.preventDefault(),b(!0),E(null),w(null))},children:x?"Updating...":"Update"}),d&&!x&&Object(I.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"secondary",onClick:function(){b(!1),i(!1),E(null),w(null)},children:"Cancel"}),!d&&!x&&Object(I.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"danger",onClick:U,children:"Delete"})]}),C&&Object(I.jsx)("p",{style:{color:"green"},children:C}),A&&Object(I.jsx)("p",{style:{color:"red"},children:A}),d&&Object(I.jsx)(y.a,{className:"justify-content-center",children:Object(I.jsx)(N.a,{md:"12",children:Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)(k.a.Title,{as:"h4",children:"Update Profile"})}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)(B,{functions:[L,M],isCreate:!1})})]})})})]})})})]})}var L=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!1),j=Object(l.a)(r,2),o=j[0],d=j[1],b=Object(c.useState)(!1),m=Object(l.a)(b,2),x=m[0],f=m[1],g=Object(c.useState)(null),v=Object(l.a)(g,2),w=v[0],D=v[1],T=Object(c.useState)(null),A=Object(l.a)(T,2),E=A[0],z=A[1],F=Object(c.useState)({role:"pupil",username:"",password:"",forename:"",surname:""}),P=Object(l.a)(F,2),L=P[0],M=P[1];Object(c.useEffect)((function(){U()}),[e.location]);var U=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/list",{headers:{Authorization:p()}}).then((function(e){s(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(h.a,{fluid:!0,children:Object(I.jsx)(y.a,{children:Object(I.jsx)(N.a,{children:Object(I.jsxs)(k.a,{className:"strpied-tabled-with-hover",children:[Object(I.jsxs)(k.a.Header,{children:[Object(I.jsx)(k.a.Title,{as:"h4",children:"All Users"}),Object(I.jsx)("p",{className:"card-category"})]}),Object(I.jsxs)(k.a.Body,{className:"table-full-width table-responsive px-0",children:[Object(I.jsxs)(C.a,{className:"table-hover table-striped table-bordered",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{className:"border-0",children:"UserID"}),Object(I.jsx)("th",{className:"border-0",children:"Role"}),Object(I.jsx)("th",{className:"border-0",children:"User Name"}),Object(I.jsx)("th",{className:"border-0",children:"Password"}),Object(I.jsx)("th",{className:"border-0",children:"First Name"}),Object(I.jsx)("th",{className:"border-0",children:"Last Name"})]})}),Object(I.jsx)("tbody",{children:n.map((function(t,a){return Object(I.jsx)(H,Object(i.a)({user:t},e),a)}))})]}),Object(I.jsxs)(S.a,{onSubmit:function(t){t.preventDefault(),z(null),D(null),f(!0),u.a.post("https://digital-grading-system.herokuapp.com/api/v1/user/create/",L,{headers:{Authorization:p()}}).then((function(t){setTimeout((function(){f(!1),1==t.data.error?(console.log(t.data.message),z("user name already exists, try another one")):(d(!1),D("user created"),e.history.push({pathname:"/user",state:e.location.state}),M((function(){return{role:"pupil",username:"",password:"",forename:"",surname:""}})),setTimeout((function(){D(null)}),3e3))}),500)})).catch((function(e){f(!1),console.log(e.message),z(JSON.stringify(e))}))},children:[Object(I.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",type:"submit",variant:"info",onClick:function(e){o||(e.preventDefault(),d(!0))},children:x?"Creating...":o?"Create":"New User"}),o&&Object(I.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"secondary",onClick:function(){d(!1),z(null),D(null),M((function(){return{role:"pupil",username:"",password:"",forename:"",surname:""}}))},children:"Cancel"}),E&&Object(I.jsx)("p",{style:{color:"red"},children:E}),w&&Object(I.jsx)("p",{style:{color:"green"},children:w}),o&&Object(I.jsx)(N.a,{md:"12",children:Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)(k.a.Title,{as:"h4",children:"Create Profile"})}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)(B,{functions:[L,M],isCreate:!0})})]})})]})]})]})})})})})},M=a(31),U=["subject"];var J=function(e){var t=e.subject,a=Object(z.a)(e,U),n=Object(c.useState)(null),s=Object(l.a)(n,2),r=s[0],j=s[1],o=Object(c.useState)({classID:a.classID}),d=Object(l.a)(o,2),b=d[0],h=d[1],m=Object(c.useState)([]),x=Object(l.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(!1),C=Object(l.a)(v,2),w=C[0],D=C[1],T=Object(c.useState)(!1),B=Object(l.a)(T,2),E=B[0],F=B[1],P=Object(c.useState)(!1),H=Object(l.a)(P,2),L=H[0],M=H[1],J=Object(c.useState)(null),V=Object(l.a)(J,2),R=V[0],q=V[1],W=Object(c.useState)(null),Y=Object(l.a)(W,2),X=Y[0],K=Y[1];Object(c.useEffect)((function(){h(Object(i.a)(Object(i.a)({},b),{},{subjectname:t.subjectname,teacherID:t.teacherID})),$()}),[t.teacherID]);var $=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/"+t.teacherID,{headers:{Authorization:p()}}).then((function(e){j(e.data.forename+" "+e.data.surname),console.log("reset teacher name")})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.a.delete("https://digital-grading-system.herokuapp.com/api/v1/subject/delete/"+t.subjectID,{headers:{Authorization:p(),classID:a.classID}}).then((function(e){a.history.push({pathname:"/class",state:a.location.state})})).catch((function(e){console.log(e.message),K(JSON.stringify(e))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){var t=e.target,a=t.name,c=t.value;h((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(A.a)({},a,c))}))},ee=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/list",{headers:{Authorization:p(),role:"teacher"}}).then((function(e){g(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(N.a,{md:"4",sm:"6",children:Object(I.jsx)(S.a,{onSubmit:function(e){e.preventDefault(),K(null),q(null),""!=b.teacherID?(console.log(b),M(!0),u.a.put("https://digital-grading-system.herokuapp.com/api/v1/subject/update/"+t.subjectID,b,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){M(!1),1==e.data.error?(console.log(e.data.message),K("subject name already exists, try another one")):(F(!1),D(!1),q("subject updated"),console.log(JSON.stringify(a)),a.history.push({pathname:a.history.location.pathname,state:a.location.state}),$(),setTimeout((function(){q(null)}),3e3))}),500)})).catch((function(e){M(!1),console.log(e.message),K(JSON.stringify(e))}))):K("please assign a teacher")},children:Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{onClick:function(){E||a.disabled||D(!w)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:Object(I.jsx)(k.a.Title,{as:"h4",children:E?Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"subject name"}),Object(I.jsx)(S.a.Control,{defaultValue:b.subjectname,placeholder:"role",type:"text",name:"subjectname",onChange:Z})]}):b.subjectname})}),Object(I.jsxs)(k.a.Body,{children:[E?Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"Teacher"}),Object(I.jsxs)(S.a.Control,{defaultValue:b.teacherID,as:"select",name:"teacherID",onChange:Z,children:[Object(I.jsx)("option",{value:""}),f.map((function(e){return Object(I.jsx)("option",{value:e._id,children:e.username})}))]})]}):r,w&&Object(I.jsxs)(y.a,{children:[Object(I.jsx)(O.a,{className:"mx-3 my-2 btn-fill",type:"submit",variant:"primary",onClick:function(e){E||(e.preventDefault(),F(!0),ee(),K(null),q(null))},children:L?"Updating...":"Update"}),E&&!L&&Object(I.jsx)(O.a,{className:"mx-3 my-2 btn-fill",variant:"secondary",onClick:function(){F(!1),D(!1),K(null),q(null)},children:"Cancel"}),!E&&!L&&Object(I.jsx)(O.a,{className:"mx-3 my-2 btn-fill",variant:"danger",onClick:Q,children:"Delete"})]}),R&&Object(I.jsx)("p",{style:{color:"green"},children:R}),X&&Object(I.jsx)("p",{style:{color:"red"},children:X})]})]})})})},V=["_class"],R=["pupil"];function q(e){var t=e._class,a=Object(z.a)(e,V),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],j=s[1],o=Object(c.useState)(!1),d=Object(l.a)(o,2),b=d[0],h=d[1],m=Object(c.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(!1),C=Object(l.a)(v,2),w=C[0],D=C[1],T=Object(c.useState)(!1),B=Object(l.a)(T,2),E=B[0],F=B[1],P=Object(c.useState)(!1),H=Object(l.a)(P,2),L=H[0],U=H[1],R=Object(c.useState)(!1),q=Object(l.a)(R,2),Y=q[0],X=q[1],K=Object(c.useState)(!1),$=Object(l.a)(K,2),Q=$[0],Z=$[1],ee=Object(c.useState)(null),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)(null),se=Object(l.a)(ne,2),re=se[0],ie=se[1],le=Object(c.useState)(null),je=Object(l.a)(le,2),oe=je[0],de=je[1],ue=Object(c.useState)(null),be=Object(l.a)(ue,2),he=be[0],Oe=be[1],me=Object(c.useState)(null),pe=Object(l.a)(me,2),xe=pe[0],fe=pe[1],ge=Object(c.useState)(null),ve=Object(l.a)(ge,2),ye=ve[0],Ne=ve[1],ke=Object(c.useState)({}),Ce=Object(l.a)(ke,2),Se=Ce[0],we=Ce[1],De=Object(c.useState)(null),Ie=Object(l.a)(De,2),Te=Ie[0],Ae=Ie[1],Be=Object(c.useState)(null),Ee=Object(l.a)(Be,2),ze=Ee[0],Fe=Ee[1],_e=Object(c.useState)([]),Ge=Object(l.a)(_e,2),Pe=Ge[0],He=Ge[1],Le=Object(c.useState)([]),Me=Object(l.a)(Le,2),Ue=Me[0],Je=Me[1];Object(c.useEffect)((function(){we(Object(i.a)(Object(i.a)({},Se),{},{classID:t._id})),Fe(t.classname)}),[t._id]);var Ve=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(!0),u.a.delete("https://digital-grading-system.herokuapp.com/api/v1/class/delete/"+t._id,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){a.history.push({pathname:"/class",state:a.location.state})}),500),U(!1),j(!1),we(null)})).catch((function(e){console.log(e.message),Ne(JSON.stringify(e))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(e){var t=e.target,a=t.name,c=t.value;we((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(A.a)({},a,c))}))},qe=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/list",{headers:{Authorization:p(),role:"teacher"}}).then((function(e){He(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/list",{headers:{Authorization:p(),role:"pupil"}}).then((function(e){var a,c=[],n=Object(M.a)(e.data);try{var s=function(){var e=a.value;t.pupils.find((function(t){return t.pupilID==e._id}))||c.push(e)};for(n.s();!(a=n.n()).done;)s()}catch(r){n.e(r)}finally{n.f()}Je(c)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(k.a,{children:[Object(I.jsxs)(k.a.Header,{onClick:function(){j(!r)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:[Object(I.jsx)(k.a.Title,{as:"h4",children:ze}),Object(I.jsxs)(k.a.Subtitle,{className:"text-muted text-right",children:["ClassID: ",t._id]})]}),Object(I.jsx)(k.a.Body,{children:r&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)(y.a,{children:[t.subjects.map((function(e,c){return Object(I.jsx)(J,Object(i.a)({subject:e,classID:t._id},a),c)})),Object(I.jsx)(N.a,{md:"4",sm:"6",children:Object(I.jsxs)(S.a,{onSubmit:function(e){e.preventDefault(),ie(null),ce(null),""!=Se.teacherID?(g(!0),console.log(Se),u.a.post("https://digital-grading-system.herokuapp.com/api/v1/subject/create/",Se,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){g(!1),1==e.data.error?(console.log(e.data.message),ie("subject name already exists, try another one")):(h(!1),ce("new subject created"),a.history.push({pathname:"/class",state:a.location.state}),we((function(){return{subjectname:"",teacherID:"",classID:t._id}})),setTimeout((function(){ce(null)}),3e3))}),500)})).catch((function(e){g(!1),console.log(e.message),ie(JSON.stringify(e))}))):ie("please assign a teacher")},children:[b&&Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"subject name"}),Object(I.jsx)(S.a.Control,{placeholder:"subject name",type:"text",name:"subjectname",onChange:Re})]})}),Object(I.jsx)(k.a.Body,{children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"Teacher"}),Object(I.jsxs)(S.a.Control,{as:"select",name:"teacherID",onChange:Re,children:[Object(I.jsx)("option",{value:""}),Pe.map((function(e,t){return Object(I.jsx)("option",{value:e._id,children:e.username})}))]})]})})]}),re&&Object(I.jsx)("p",{style:{color:"red"},children:re}),ae&&Object(I.jsx)("p",{style:{color:"green"},children:ae}),Object(I.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",type:"submit",variant:"primary",onClick:function(e){b||(e.preventDefault(),h(!0),qe())},children:f?"Adding...":b?"Add":"Add Subject"}),b&&Object(I.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",variant:"secondary",onClick:function(){h(!1),ie(null),ce(null),we((function(){return{subjectname:"",teacher:""}}))},children:"Cancel"})]})})]}),Object(I.jsx)("hr",{}),Object(I.jsxs)(y.a,{lg:"5",md:"4",sm:"3",children:[t.pupils.map((function(e,c){return Object(I.jsx)(W,Object(i.a)({pupil:e,classID:t._id},a),c)})),Object(I.jsx)(N.a,{children:Object(I.jsxs)(S.a,{onSubmit:function(e){e.preventDefault(),Oe(null),de(null),null!=Te?(u.a.post("https://digital-grading-system.herokuapp.com/api/v1/class/pupil/contain",{pupilID:Te},{headers:{Authorization:p()}}).then((function(e){e.data._id&&u.a.post("https://digital-grading-system.herokuapp.com/api/v1/class/"+e.data._id+"/pupil/assign",{pupilID:Te,assign:"false"},{headers:{Authorization:p()}})})),F(!0),u.a.post("https://digital-grading-system.herokuapp.com/api/v1/class/"+t._id+"/pupil/assign",{pupilID:Te,assign:"true"},{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){F(!1),1==e.data.error?(console.log(e.data.message),Oe("error")):(D(!1),de("pupil assigned"),a.history.push({pathname:"/class",state:a.location.state}),Ae(null),setTimeout((function(){de(null)}),3e3))}),500)})).catch((function(e){F(!1),console.log(e.message),Oe(JSON.stringify(e))}))):Oe("please assign a pupil")},children:[w&&Object(I.jsx)(k.a,{children:Object(I.jsx)(k.a.Body,{children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"Pupil"}),Object(I.jsxs)(S.a.Control,{as:"select",name:"pupilID",onChange:function(e){return Ae(e.target.value)},children:[Object(I.jsx)("option",{value:""}),Ue.map((function(e,t){return Object(I.jsx)("option",{value:e._id,children:e.username})}))]})]})})}),he&&Object(I.jsx)("p",{style:{color:"red"},children:he}),oe&&Object(I.jsx)("p",{style:{color:"green"},children:oe}),Object(I.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",type:"submit",variant:"info",onClick:function(e){w||(e.preventDefault(),D(!0),We())},children:E?"Assigning...":w?"Assign":"Assign Pupil"}),w&&Object(I.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",variant:"secondary",onClick:function(){D(!1),Oe(null),de(null),we((function(){return{subjectname:"",teacher:""}}))},children:"Cancel"})]})})]}),Object(I.jsx)("hr",{}),xe&&Object(I.jsx)("p",{style:{color:"green"},children:xe}),ye&&Object(I.jsx)("p",{style:{color:"red"},children:ye}),Object(I.jsxs)(S.a,{onSubmit:function(e){e.preventDefault(),Ne(null),fe(null),Z(!0),u.a.put("https://digital-grading-system.herokuapp.com/api/v1/class/update/"+t._id,{classname:ze},{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){Z(!1),1==e.data.error?(console.log(e.data.message),Ne("class name already exists, try another one")):(X(!1),fe("class updated"),a.history.push({pathname:"/class",state:a.location.state}),setTimeout((function(){fe(null)}),3e3))}),500)})).catch((function(e){Z(!1),console.log(e.message),Ne(JSON.stringify(e))}))},children:[Object(I.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",type:"submit",variant:"success",onClick:function(e){Y||(e.preventDefault(),X(!0))},children:Q?"updating...":Y?"Update":"Update Class"}),Y&&!Q&&Object(I.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",variant:"secondary",onClick:function(){X(!1),Ne(null),fe(null)},children:"Cancel"}),!Y&&!Q&&Object(I.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",variant:"danger",onClick:Ve,children:L?"Deleting":"Delete Class"}),Y&&Object(I.jsx)(y.a,{md:"3",children:Object(I.jsx)(N.a,{children:Object(I.jsx)(k.a,{children:Object(I.jsx)(k.a.Body,{children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"class name"}),Object(I.jsx)(S.a.Control,{defaultValue:ze,placeholder:"class name",type:"text",name:"classname",onChange:function(e){return Fe(e.target.value)}})]})})})})})]})]})})]})})}function W(e){var t=e.pupil,a=Object(z.a)(e,R),n=a.classID,s=Object(c.useState)(null),r=Object(l.a)(s,2),i=r[0],j=r[1],o=Object(c.useState)(!1),d=Object(l.a)(o,2),b=d[0],h=d[1],m=Object(c.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1];Object(c.useEffect)((function(){v()}),[t]);var v=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/"+t.pupilID,{headers:{Authorization:p()}}).then((function(e){j(e.data.forename+" "+e.data.surname)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(N.a,{children:Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{onClick:function(){h(!b)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:Object(I.jsx)(k.a.Title,{as:"h5",children:i})}),Object(I.jsx)(k.a.Body,{children:b&&Object(I.jsx)(O.a,{className:"mx-1 mt-2 btn-fill",type:"submit",variant:"danger",onClick:function(e){e.preventDefault(),g(!0),u.a.post("https://digital-grading-system.herokuapp.com/api/v1/class/"+n+"/pupil/assign",{pupilID:t.pupilID,assign:"false"},{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){g(!1),h(!1),1==e.data.error?console.log(e.data.message):a.history.push({pathname:"/class",state:a.location.state})}),500)})).catch((function(e){g(!1),console.log(e.message)}))},children:f?"Deassigning":"Deassign"})})]})})}var Y=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!1),j=Object(l.a)(r,2),o=j[0],d=j[1],b=Object(c.useState)(!1),m=Object(l.a)(b,2),x=m[0],f=m[1],g=Object(c.useState)(null),v=Object(l.a)(g,2),C=v[0],w=v[1],D=Object(c.useState)(null),T=Object(l.a)(D,2),A=T[0],B=T[1],E=Object(c.useState)(null),z=Object(l.a)(E,2),F=z[0],P=z[1];Object(c.useEffect)((function(){H()}),[e.location]);var H=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/class/list",{headers:{Authorization:p()}}).then((function(e){s(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(h.a,{fluid:!0,children:Object(I.jsx)(y.a,{children:Object(I.jsxs)(N.a,{children:[n.map((function(t,a){return Object(I.jsx)(q,Object(i.a)({_class:t},e),a)})),A&&Object(I.jsx)("p",{style:{color:"green"},children:A}),F&&Object(I.jsx)("p",{style:{color:"red"},children:F}),Object(I.jsxs)(S.a,{onSubmit:function(t){t.preventDefault(),P(null),B(null),f(!0),u.a.post("https://digital-grading-system.herokuapp.com/api/v1/class/create/",{classname:C},{headers:{Authorization:p()}}).then((function(t){setTimeout((function(){f(!1),1==t.data.error?(console.log(t.data.message),P("class name already exists, try another one")):(d(!1),B("class created"),e.history.push({pathname:"/class",state:e.location.state}),setTimeout((function(){B(null)}),3e3))}),500),w("")})).catch((function(e){f(!1),console.log(e.message),P(JSON.stringify(e))}))},children:[Object(I.jsx)(y.a,{children:Object(I.jsxs)(N.a,{children:[Object(I.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",type:"submit",variant:"success",onClick:function(e){o||(e.preventDefault(),d(!0))},children:x?"Creating...":o?"Create":"New Class"}),o&&Object(I.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",variant:"secondary",onClick:function(){d(!1),P(null),B(null)},children:"Cancel"})]})}),o&&Object(I.jsx)(y.a,{md:"3",children:Object(I.jsx)(N.a,{children:Object(I.jsx)(k.a,{children:Object(I.jsx)(k.a.Body,{children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"class name"}),Object(I.jsx)(S.a.Control,{placeholder:"class name",type:"text",name:"classname",onChange:function(e){return w(e.target.value)}})]})})})})})]})]})})})})},X=a(65),K=["subject"],$=["test"],Q=["grade"];function Z(e){var t=e.test,a=Object(z.a)(e,$),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],j=s[1],o=Object(c.useState)(!1),d=Object(l.a)(o,2),b=d[0],h=d[1],m=Object(c.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(!1),w=Object(l.a)(v,2),D=w[0],T=w[1],B=Object(c.useState)(!1),E=Object(l.a)(B,2),F=E[0],P=E[1],H=Object(c.useState)(null),L=Object(l.a)(H,2),U=L[0],J=L[1],V=Object(c.useState)(null),R=Object(l.a)(V,2),q=R[0],W=R[1],Y=Object(c.useState)(null),X=Object(l.a)(Y,2),K=X[0],Q=X[1],Z=Object(c.useState)(null),ae=Object(l.a)(Z,2),ce=ae[0],ne=ae[1],se=Object(c.useState)({}),re=Object(l.a)(se,2),ie=re[0],le=re[1],je=Object(c.useState)([]),oe=Object(l.a)(je,2),de=oe[0],ue=oe[1],be=Object(c.useState)([]),he=Object(l.a)(be,2),Oe=he[0],me=he[1],pe=Object(c.useState)([]),xe=Object(l.a)(pe,2),fe=xe[0],ge=xe[1];Object(c.useEffect)((function(){ve()}),[t]),Object(c.useEffect)((function(){ye()}),[de]);var ve=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/test/"+t.testID,{headers:{Authorization:p()}}).then((function(e){le(Object(i.a)(Object(i.a)({},ie),{},{testname:e.data.testname,date:e.data.date})),ue(e.data.grades)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e,t=[],c=Object(M.a)(a.pupils);try{var n=function(){var a=e.value;de.find((function(e){return e.pupilID==a.pupilID}))||t.push(a)};for(c.s();!(e=c.n()).done;)n()}catch(s){c.e(s)}finally{c.f()}me(t)},Ne=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.a.delete("https://digital-grading-system.herokuapp.com/api/v1/test/delete/"+t.testID,{headers:{Authorization:p(),subjectID:a.subjectID}}).then((function(e){a.history.push({pathname:a.location.state.pathname,state:a.location.state})})).catch((function(e){console.log(e.message),W(JSON.stringify(e))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(e){var t=e.target,a=t.name,c=t.value;le((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(A.a)({},a,c))}))};return Object(I.jsx)(N.a,{children:Object(I.jsxs)(k.a,{children:[Object(I.jsxs)(k.a.Header,{onClick:function(){b||j(!r)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:[Object(I.jsx)(k.a.Title,{as:"h4",children:ie.testname}),Object(I.jsxs)(k.a.Subtitle,{className:"text-muted text-right",children:["Date: ",ie.date]})]}),Object(I.jsx)(k.a.Body,{children:r&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)(C.a,{className:"table-hover table-striped table-bordered",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{className:"border-0",children:"PupilID"}),Object(I.jsx)("th",{className:"border-0",children:"First Name"}),Object(I.jsx)("th",{className:"border-0",children:"Last Name"}),Object(I.jsx)("th",{className:"border-0",children:"Grade"})]})}),Object(I.jsx)("tbody",{children:de.map((function(e,c){return Object(I.jsx)(ee,Object(i.a)({grade:e,testID:t.testID},a),c)}))})]}),Object(I.jsxs)(S.a,{onSubmit:function(e){e.preventDefault(),ne(null),Q(null),P(!0),u.a.post("https://digital-grading-system.herokuapp.com/api/v1/test/"+t.testID+"/grade/create/",fe,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){P(!1),1==e.data.error?(console.log(e.data.message),ne("error")):(T(!1),Q("grade created"),a.history.push({pathname:a.history.location.pathname,state:a.location.state}),ge({}),setTimeout((function(){Q(null)}),3e3))}),500)})).catch((function(e){P(!1),console.log(e.message),ne(JSON.stringify(e))}))},children:[Object(I.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",type:"submit",variant:"success",onClick:function(e){D||(e.preventDefault(),T(!0))},children:F?"Creating...":D?"Create":"New Grade"}),D&&Object(I.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"secondary",onClick:function(){T(!1),ne(null),Q(null),ge({})},children:"Cancel"}),ce&&Object(I.jsx)("p",{style:{color:"red"},children:ce}),K&&Object(I.jsx)("p",{style:{color:"green"},children:K}),D&&Object(I.jsx)(N.a,{md:"12",children:Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)(k.a.Title,{as:"h4",children:"Create Grade"})}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)(te,{functions:[fe,ge],pupils:Oe,isCreate:!0})})]})})]}),Object(I.jsx)("hr",{}),U&&Object(I.jsx)("p",{style:{color:"green"},children:U}),q&&Object(I.jsx)("p",{style:{color:"red"},children:q}),Object(I.jsxs)(S.a,{onSubmit:function(e){e.preventDefault(),W(null),J(null),console.log(ie),g(!0),u.a.put("https://digital-grading-system.herokuapp.com/api/v1/test/update/"+t.testID,ie,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){g(!1),1==e.data.error?(console.log(e.data.message),W("error")):(h(!1),J("test updated"),a.history.push({pathname:a.history.location.pathname,state:a.location.state}),setTimeout((function(){J(null)}),3e3))}),500)})).catch((function(e){g(!1),console.log(e.message),W(JSON.stringify(e))}))},children:[Object(I.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",type:"submit",variant:"primary",onClick:function(e){b||(e.preventDefault(),h(!0),W(null),J(null))},children:f?"Updating...":"Update"}),b&&!f&&Object(I.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",variant:"secondary",onClick:function(){h(!1),W(null),J(null)},children:"Cancel"}),!b&&!f&&Object(I.jsx)(O.a,{className:"mx-2 mb-2 btn-fill",variant:"danger",onClick:Ne,children:"Delete"}),b&&Object(I.jsx)(y.a,{children:Object(I.jsx)(N.a,{children:Object(I.jsx)(k.a,{children:Object(I.jsxs)(k.a.Body,{children:[Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"test name"}),Object(I.jsx)(S.a.Control,{defaultValue:ie.testname,placeholder:"test name",type:"text",name:"testname",onChange:ke})]}),Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"date"}),Object(I.jsx)(S.a.Control,{defaultValue:ie.date,placeholder:"date (yyyy-mm-dd)",type:"text",name:"date",onChange:ke})]})]})})})})]})]})})]})})}function ee(e){var t=e.grade,a=Object(z.a)(e,Q),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],j=s[1],o=Object(c.useState)(!1),d=Object(l.a)(o,2),b=d[0],h=d[1],m=Object(c.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(null),C=Object(l.a)(v,2),w=C[0],D=C[1],T=Object(c.useState)(null),A=Object(l.a)(T,2),B=A[0],E=A[1],F=Object(c.useState)({pupilID:t.pupilID,grade:t.grade}),P=Object(l.a)(F,2),H=P[0],L=P[1],M=Object(c.useState)({}),U=Object(l.a)(M,2),J=U[0],V=U[1];Object(c.useEffect)((function(){R()}),[H]);var R=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/"+H.pupilID,{headers:{Authorization:p()}}).then((function(e){V(Object(i.a)(Object(i.a)({},H),{},{pupilname:e.data.username,forename:e.data.forename,surname:e.data.surname}))})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(G.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),E(null),D(null),g(!0),console.log(H),u.a.put("https://digital-grading-system.herokuapp.com/api/v1/test/"+a.testID+"/grade/update/",H,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){g(!1),1==e.data.error?(console.log(e.data.error.message),E("error")):(h(!1),D("grade updated"),a.history.push({pathname:a.history.location.pathname,state:a.location.state}),setTimeout((function(){D(null)}),2e3))}),500)})).catch((function(e){g(!1),console.log(e.message),E(JSON.stringify(e))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.a.delete("https://digital-grading-system.herokuapp.com/api/v1/test/"+a.testID+"/grade/delete",{headers:{Authorization:p(),pupilID:H.pupilID}}).then((function(e){a.history.push({pathname:a.location.state.pathname,state:a.location.state})})).catch((function(e){console.log(e.message),setTestError(JSON.stringify(e))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("tr",{onClick:function(){a.disabled||(j(!r),h(!1),E(null),D(null))},children:[Object(I.jsx)("td",{children:H.pupilID}),Object(I.jsx)("td",{children:J.forename}),Object(I.jsx)("td",{children:J.surname}),Object(I.jsx)("td",{children:H.grade})]}),r&&Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:"4",children:Object(I.jsxs)(S.a,{onSubmit:q,children:[Object(I.jsxs)(y.a,{children:[Object(I.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",type:"submit",variant:"success",onClick:function(e){b||(e.preventDefault(),h(!0),E(null),D(null))},children:f?"Updating...":"Update"}),b&&!f&&Object(I.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"secondary",onClick:function(){h(!1),j(!1),E(null),D(null)},children:"Cancel"}),!b&&!f&&Object(I.jsx)(O.a,{className:"mx-3 mb-1 btn-fill",variant:"danger",onClick:W,children:"Delete"})]}),w&&Object(I.jsx)("p",{style:{color:"green"},children:w}),B&&Object(I.jsx)("p",{style:{color:"red"},children:B}),b&&Object(I.jsx)(y.a,{className:"justify-content-center",children:Object(I.jsx)(N.a,{md:"12",children:Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)(k.a.Title,{as:"h4",children:"Update Grade"})}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)(te,{name:J,functions:[H,L],isCreate:!1})})]})})})]})})})]})}function te(e){var t=Object(l.a)(e.functions,2),a=t[0],n=t[1],s=e.name,r=Object(c.useState)([]),j=Object(l.a)(r,2),o=j[0],d=j[1],b=function(e){var t=e.target,a=t.name,c=t.value;n((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(A.a)({},a,c))}))};Object(c.useEffect)((function(){h()}),[e.pupils]);var h=function(){var t=Object(G.a)(_.a.mark((function t(){var a,c,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pupils){t.next=17;break}a=Object(M.a)(e.pupils),t.prev=2,n=_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.value,e.next=3,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/"+t.pupilID,{headers:{Authorization:p()}}).then((function(e){d((function(a){return[].concat(Object(X.a)(a),[{pupilID:t.pupilID,pupilname:e.data.username,forename:e.data.forename,surname:e.data.surname}])})),console.log(e.data)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})),a.s();case 5:if((c=a.n()).done){t.next=9;break}return t.delegateYield(n(),"t0",7);case 7:t.next=5;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(2),a.e(t.t1);case 14:return t.prev=14,a.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})));return function(){return t.apply(this,arguments)}}();return Object(I.jsxs)(y.a,{children:[Object(I.jsx)(N.a,{className:"pr-1",md:"7",children:0==e.isCreate?Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"pupil name (disabled)"}),Object(I.jsx)(S.a.Control,{defaultValue:s.pupilname,disabled:!0,placeholder:"pupil name",type:"text"})]}):Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"Pupil"}),Object(I.jsxs)(S.a.Control,{as:"select",name:"pupilID",onChange:b,children:[Object(I.jsx)("option",{value:""}),o.map((function(e){return Object(I.jsx)("option",{value:e.pupilID,children:e.pupilname})}))]})]})}),Object(I.jsx)(N.a,{className:"pr-1",md:"5",children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"grade"}),Object(I.jsx)(S.a.Control,{defaultValue:a.grade,required:!0,placeholder:"grade",type:"text",name:"grade",onChange:b})]})})]})}var ae=function(e){var t=e.subject,a=Object(z.a)(e,K),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],j=s[1],o=Object(c.useState)(!1),d=Object(l.a)(o,2),b=d[0],h=d[1],m=Object(c.useState)(!1),x=Object(l.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(null),w=Object(l.a)(v,2),D=w[0],T=w[1],B=Object(c.useState)(null),E=Object(l.a)(B,2),F=E[0],P=E[1],H=Object(c.useState)(),L=Object(l.a)(H,2),U=L[0],J=L[1],V=Object(c.useState)([]),R=Object(l.a)(V,2),q=R[0],W=R[1],Y=Object(c.useState)([]),$=Object(l.a)(Y,2),Q=$[0],te=$[1];Object(c.useEffect)((function(){J(Object(i.a)(Object(i.a)({},U),{},{subjectID:t._id})),ae()}),[t]),Object(c.useEffect)((function(){ce()}),[q||a.history]);var ae=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/list",{headers:{Authorization:p(),subjectID:t._id}}).then((function(e){W(e.data.pupils)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(G.a)(_.a.mark((function e(){var a,c,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te([]),a=Object(M.a)(q),e.prev=2,n=_.a.mark((function e(){var a,n,s,r,i,l,j;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=c.value,n=0,s=0,r=Object(M.a)(t.tests),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=12;break}return l=i.value,e.next=10,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/test/"+l.testID+"/grade/"+a.pupilID,{headers:{Authorization:p()}}).then((function(e){n+=e.data.grades[0].grade,s+=1})).catch((function(e){}));case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:j=0==s?0:n/s,te((function(e){return[].concat(Object(X.a)(e),[{pupilID:a.pupilID,grade:j}])}));case 22:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})),a.s();case 5:if((c=a.n()).done){e.next=9;break}return e.delegateYield(n(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),a.e(e.t1);case 14:return e.prev=14,a.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e){var t=e.target,a=t.name,c=t.value;J((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(A.a)({},a,c))}))};return Object(I.jsxs)(k.a,{children:[Object(I.jsxs)(k.a.Header,{onClick:function(){j(!r)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:[Object(I.jsx)(k.a.Title,{as:"h4",children:t.subjectname}),Object(I.jsxs)(k.a.Subtitle,{className:"text-muted text-right",children:["SubjectID: ",t._id]})]}),Object(I.jsx)(k.a.Body,{children:r&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object(I.jsx)(y.a,{children:Object(I.jsx)(N.a,{children:Object(I.jsxs)(C.a,{className:"table-hover table-striped table-bordered",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{className:"border-0",children:"PupilID"}),Object(I.jsx)("th",{className:"border-0",children:"First Name"}),Object(I.jsx)("th",{className:"border-0",children:"Last Name"}),Object(I.jsx)("th",{className:"border-0",children:"Grade"})]})}),Object(I.jsx)("tbody",{children:Q.map((function(e,t){return Object(I.jsx)(ee,Object(i.a)({grade:e,disabled:"true"},a),t)}))})]})})}),Object(I.jsx)("hr",{}),Object(I.jsx)(y.a,{sm:"1",children:t.tests.map((function(e,c){return Object(I.jsx)(Z,Object(i.a)({test:e,subjectID:t._id,pupils:q},a),c)}))}),Object(I.jsx)("hr",{}),Object(I.jsx)(y.a,{children:Object(I.jsx)(N.a,{children:Object(I.jsxs)(S.a,{onSubmit:function(e){e.preventDefault(),P(null),T(null),g(!0),console.log(U),u.a.post("https://digital-grading-system.herokuapp.com/api/v1/test/create/",U,{headers:{Authorization:p()}}).then((function(e){setTimeout((function(){g(!1),1==e.data.error?(console.log(e.data.message),P("error")):(h(!1),T("new test created"),a.history.push({pathname:"/subject",state:a.location.state}),J((function(){return{testname:"",date:null,subjectID:t._id}})),setTimeout((function(){T(null)}),3e3))}),500)})).catch((function(e){g(!1),console.log(e.message),P(JSON.stringify(e))}))},children:[b&&Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"test name"}),Object(I.jsx)(S.a.Control,{placeholder:"test name",type:"text",name:"testname",onChange:ne})]})}),Object(I.jsx)(k.a.Body,{children:Object(I.jsxs)(S.a.Group,{children:[Object(I.jsx)("label",{children:"Date"}),Object(I.jsx)(S.a.Control,{placeholder:"date",type:"text",name:"date",onChange:ne})]})})]}),F&&Object(I.jsx)("p",{style:{color:"red"},children:F}),D&&Object(I.jsx)("p",{style:{color:"green"},children:D}),Object(I.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",type:"submit",variant:"primary",onClick:function(e){b||(e.preventDefault(),h(!0))},children:f?"Adding...":b?"Add":"Add Test"}),b&&Object(I.jsx)(O.a,{className:"mx-2 mb-1 btn-fill",variant:"secondary",onClick:function(){h(!1),P(null),T(null),J((function(){return{testname:"",date:null}}))},children:"Cancel"})]})})})]})})]})},ce=["subject"],ne=["testID"];function se(e){var t=e.testID,a=Object(z.a)(e,ne),n=Object(c.useState)({}),s=Object(l.a)(n,2),r=s[0],j=s[1],o=Object(c.useState)(0),d=Object(l.a)(o,2),b=d[0],h=d[1];Object(c.useEffect)((function(){m(),O()}),[a.history]);var O=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/test/"+t+"/grade/"+a.history.location.state.userID,{headers:{Authorization:p()}}).then((function(e){h(e.data.grades[0].grade),console.log(e.data.grades[0].grade)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/test/"+t,{headers:{Authorization:p()}}).then((function(e){j(Object(i.a)(Object(i.a)({},r),{},{testname:e.data.testname,date:e.data.date}))})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(N.a,{sm:"6",children:Object(I.jsxs)(k.a,{children:[Object(I.jsxs)(k.a.Header,{children:[Object(I.jsx)(k.a.Title,{as:"h4",children:r.testname}),Object(I.jsxs)(k.a.Subtitle,{className:"text-muted text-right",children:["Date: ",r.date]})]}),Object(I.jsxs)(k.a.Body,{children:["My Grade: ",b]})]})})}var re=function(e){var t=e.subject,a=Object(z.a)(e,ce),n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],j=s[1],o=Object(c.useState)([]),d=Object(l.a)(o,2),b=d[0],h=d[1],O=Object(c.useState)(null),m=Object(l.a)(O,2),x=m[0],f=m[1];Object(c.useEffect)((function(){g()}),[a.history]),Object(c.useEffect)((function(){v()}),[b]);var g=function(){var e=Object(G.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("http://localhost:5000/api/v1/subject/"+t.subjectID,{headers:{Authorization:p()}}).then((function(e){console.log(e.data.tests),h(e.data.tests)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(G.a)(_.a.mark((function e(){var t,c,n,s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,c=0,n=Object(M.a)(b),e.prev=3,n.s();case 5:if((s=n.n()).done){e.next=11;break}return r=s.value,e.next=9,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/test/"+r.testID+"/grade/"+a.history.location.state.userID,{headers:{Authorization:p()}}).then((function(e){t+=e.data.grades[0].grade,c+=1})).catch((function(e){}));case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:f(0==c?0:t/c);case 21:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(k.a,{children:[Object(I.jsxs)(k.a.Header,{onClick:function(){j(!r)},onMouseOver:function(e){e.target.style.cursor="pointer"},children:[Object(I.jsx)(k.a.Title,{as:"h4",children:t.subjectname}),Object(I.jsxs)(k.a.Subtitle,{className:"text-muted text-right",children:["SubjectID: ",t._id]})]}),Object(I.jsxs)(k.a.Body,{children:["My Average Grade: ",x,r&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object(I.jsx)(y.a,{sm:"1",children:0!=b.length?Object(I.jsx)(I.Fragment,{children:b.map((function(e,t){return Object(I.jsx)(se,Object(i.a)({testID:e.testID},a),t)}))}):Object(I.jsx)(N.a,{children:"No tests so far"})})]})]})]})},ie=["allSubject"],le=["allSubject"],je=["allSubject"];function oe(e){var t=e.allSubject,a=Object(z.a)(e,ie);return Object(I.jsxs)(h.a,{fluid:!0,children:[Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)(k.a.Title,{as:"h4",children:"Active Subjects"})}),Object(I.jsx)("hr",{}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)(y.a,{children:t.map((function(e){return Object(I.jsx)(J,Object(i.a)({subject:e},a))}))})})]}),Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)(k.a.Title,{as:"h4",children:"Archived Subjects"})}),Object(I.jsx)("hr",{}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)(y.a,{})})]})]})}function de(e){var t=e.allSubject,a=Object(z.a)(e,le);return Object(I.jsxs)(h.a,{fluid:!0,children:[Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)(k.a.Title,{as:"h4",children:"Active Subjects"})}),Object(I.jsx)("hr",{}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)(y.a,{sm:"1",children:Object(I.jsx)(N.a,{children:t.map((function(e){return Object(I.jsx)(ae,Object(i.a)({subject:e},a))}))})})})]}),Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)(k.a.Title,{as:"h4",children:"Archived Subjects"})}),Object(I.jsx)("hr",{}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)(y.a,{})})]})]})}function ue(e){var t=e.allSubject,a=Object(z.a)(e,je);return Object(I.jsxs)(h.a,{fluid:!0,children:[Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)(k.a.Title,{as:"h4",children:"Active Subjects"})}),Object(I.jsx)("hr",{}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)(y.a,{sm:"1",children:Object(I.jsx)(N.a,{children:t.map((function(e){return Object(I.jsx)(re,Object(i.a)({subject:e},a))}))})})})]}),Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)(k.a.Title,{as:"h4",children:"Archived Subjects"})}),Object(I.jsx)("hr",{}),Object(I.jsx)(k.a.Body,{children:Object(I.jsx)(y.a,{})})]})]})}var be=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],r=function(){var t=Object(G.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("teacher"!=e.history.location.state.role){t.next=5;break}return t.next=3,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/subject/list",{headers:{Authorization:p(),teacherID:e.history.location.state.userID}}).then((function(e){s(e.data)})).catch((function(e){}));case 3:t.next=12;break;case 5:if("admin"!=e.history.location.state.role){t.next=10;break}return t.next=8,u.a.get("https://digital-grading-system.herokuapp.com/api/v1/subject/list",{headers:{Authorization:p()}}).then((function(e){s(e.data)})).catch((function(e){}));case 8:t.next=12;break;case 10:return t.next=12,u.a.post("http://localhost:5000/api/v1/class/pupil/contain",{pupilID:e.history.location.state.userID},{headers:{Authorization:p()}}).then((function(e){s(e.data.subjects)})).catch((function(e){}));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){r()}),[e.location]),Object(I.jsx)(I.Fragment,{children:"teacher"==e.history.location.state.role?Object(I.jsx)(de,Object(i.a)({allSubject:n},e)):"admin"==e.history.location.state.role?Object(I.jsx)(oe,Object(i.a)({allSubject:n,disabled:"true"},e)):Object(I.jsx)(ue,Object(i.a)({allSubject:n},e))})},he=a(133),Oe=a(83),me=function(e){var t=Object(c.useState)(e),a=Object(l.a)(t,2),n=a[0],s=a[1];return{value:n,onChange:function(e){s(e.target.value)}}},pe=[{path:"/dashboard",name:"Dashboard",icon:"nc-icon nc-chart-pie-36",component:T,layout:"/admin"},{path:"/profile",name:"My Profile",icon:"nc-icon nc-circle-09",component:E,layout:"/admin"},{path:"/user",name:"Users",icon:"nc-icon nc-notes",component:L,layout:"/admin"},{path:"/class",name:"Classes",icon:"nc-icon nc-ruler-pencil",component:Y,layout:"/admin"},{path:"/subject",name:"Subjects",icon:"nc-icon nc-planet",component:be,layout:"/admin"}],xe=[{path:"/dashboard",name:"Dashboard",icon:"nc-icon nc-chart-pie-35",component:T,layout:"/teacher"},{path:"/profile",name:"My Profile",icon:"nc-icon nc-circle-09",component:E,layout:"/teacher"},{path:"/subject",name:"My Subjects",icon:"nc-icon nc-planet",component:be,layout:"/teacher"}],fe=[{path:"/dashboard",name:"Dashboard",icon:"nc-icon nc-chart-pie-35",component:T,layout:"/pupil"},{path:"/profile",name:"My Profile",icon:"nc-icon nc-circle-09",component:E,layout:"/pupil"},{path:"/subject",name:"My Subjects",icon:"nc-icon nc-planet",component:be,layout:"/pupil"}],ge=[{path:"/login",name:"Login",icon:"ni ni-key-25 text-info",component:function(e){var t=me(""),a=me(""),n=Object(c.useState)(null),s=Object(l.a)(n,2),r=s[0],j=s[1],o=Object(c.useState)(!1),d=Object(l.a)(o,2),b=d[0],h=d[1];return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(N.a,{md:"9",lg:"6",children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(k.a,{className:"shadow border-0",children:[Object(I.jsx)(k.a.Header,{children:Object(I.jsx)("div",{className:"text-muted text-center mt-2 mb-3",children:Object(I.jsx)("h3",{children:"Welcome to Digital Grading System"})})}),Object(I.jsx)(k.a.Body,{children:Object(I.jsxs)(S.a,{children:[Object(I.jsxs)("div",{className:"mx-5",children:[Object(I.jsxs)(he.a,{className:"mb-3",children:[Object(I.jsx)(he.a.Prepend,{children:Object(I.jsx)(he.a.Text,{children:Object(I.jsx)("i",{className:"nc-icon nc-circle-09"})})}),Object(I.jsx)(Oe.a,Object(i.a)({placeholder:"Username","aria-label":"Username"},t))]}),Object(I.jsxs)(he.a,{className:"mb-3",children:[Object(I.jsx)(he.a.Prepend,{children:Object(I.jsx)(he.a.Text,{children:Object(I.jsx)("i",{className:"nc-icon nc-key-25"})})}),Object(I.jsx)(Oe.a,Object(i.a)({type:"password",placeholder:"Password","aria-label":"Password"},a))]}),r&&Object(I.jsx)("p",{style:{color:"red"},children:r})]}),Object(I.jsx)("div",{className:"text-center",children:Object(I.jsx)(O.a,{className:"btn-fill pull-right",variant:"info",onClick:function(){j(null),h(!0),u.a.post("https://digital-grading-system.herokuapp.com/api/v1/user/login",{username:t.value,password:a.value}).then((function(t){h(!1),f(t.data),e.history.push({pathname:"/dashboard",state:t.data.user})})).catch((function(e){h(!1),401===e.response.status||400===e.response.status?j(e.response.data.message):j("Something went wrong. Please try again later.")}))},disabled:b,children:b?"Loading...":"Login"})})]})})]})]})})},layout:"/auth"}];var ve=function(e){var t=Object(o.g)(),a=Object(c.useState)([]),n=Object(l.a)(a,2),s=n[0],r=n[1];return Object(c.useEffect)((function(){"pupil"==e.state.role?r(fe):"teacher"==e.state.role?r(xe):r(pe)}),[]),Object(I.jsx)(b.a,{bg:"light",expand:"lg",children:Object(I.jsxs)(h.a,{fluid:!0,children:[Object(I.jsxs)("div",{className:"d-flex justify-content-center align-items-center ml-2 ml-lg-0",children:[Object(I.jsx)(O.a,{variant:"dark",className:"d-lg-none btn-fill d-flex justify-content-center align-items-center rounded-circle p-2",onClick:function(e){e.preventDefault(),document.documentElement.classList.toggle("nav-open");var t=document.createElement("div");t.id="bodyClick",t.onclick=function(){this.parentElement.removeChild(this),document.documentElement.classList.toggle("nav-open")},document.body.appendChild(t)},children:Object(I.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(I.jsx)(b.a.Brand,{href:"#home",onClick:function(e){return e.preventDefault()},className:"mr-2",children:function(){for(var e=0;e<s.length;e++)if(-1!==t.pathname.indexOf(s[e].path))return s[e].name;return"Brand"}()})]}),Object(I.jsxs)(b.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"mr-2",children:[Object(I.jsx)("span",{className:"navbar-toggler-bar burger-lines"}),Object(I.jsx)("span",{className:"navbar-toggler-bar burger-lines"}),Object(I.jsx)("span",{className:"navbar-toggler-bar burger-lines"})]}),Object(I.jsx)(b.a.Collapse,{id:"basic-navbar-nav",children:Object(I.jsxs)(m.a,{className:"ml-auto",navbar:!0,children:[Object(I.jsx)(m.a.Item,{children:Object(I.jsx)(m.a.Link,{className:"m-0",href:"#pablo",onClick:function(e){return e.preventDefault()},disabled:"true",children:Object(I.jsxs)("span",{className:"no-icon",children:["Hi, ",e.state.forename+" "+e.state.surname]})})}),Object(I.jsx)(m.a.Item,{children:Object(I.jsx)(m.a.Link,{className:"m-0",href:"/login",onClick:function(){x()},children:Object(I.jsx)("span",{className:"no-icon",children:"Log out"})})})]})})]})})},ye=a(88),Ne=a(89),ke=a(91),Ce=a(90),Se=function(e){Object(ke.a)(a,e);var t=Object(Ce.a)(a);function a(){return Object(ye.a)(this,a),t.apply(this,arguments)}return Object(Ne.a)(a,[{key:"render",value:function(){return Object(I.jsx)("footer",{className:"footer px-0 px-lg-3",children:Object(I.jsx)(h.a,{fluid:!0,children:Object(I.jsxs)("nav",{children:[Object(I.jsxs)("ul",{className:"footer-menu",children:[Object(I.jsx)("li",{children:Object(I.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Home"})}),Object(I.jsx)("li",{children:Object(I.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Company"})}),Object(I.jsx)("li",{children:Object(I.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Portfolio"})}),Object(I.jsx)("li",{children:Object(I.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Blog"})})]}),Object(I.jsxs)("p",{className:"copyright text-center",children:["\xa9 ",(new Date).getFullYear()," ",Object(I.jsx)("a",{href:"http://www.creative-tim.com",children:"Creative Tim"}),", made with love for a better web"]})]})})})}}]),a}(c.Component);a.p;var we=function(e){var t=e.color,c=e.image,n=e.routes,s=e.state,r=Object(o.g)();return Object(I.jsxs)("div",{className:"sidebar","data-image":c,"data-color":t,children:[Object(I.jsx)("div",{className:"sidebar-background",style:{backgroundImage:"url("+c+")"}}),Object(I.jsxs)("div",{className:"sidebar-wrapper",children:[Object(I.jsxs)("div",{className:"logo d-flex align-items-center justify-content-start",children:[Object(I.jsx)("a",{href:"/dashboard",className:"simple-text logo-mini mx-1",children:Object(I.jsx)("div",{className:"logo-img",children:Object(I.jsx)("img",{src:a(81).default,alt:"..."})})}),Object(I.jsx)("a",{className:"simple-text",href:"/dashboard",children:"Panda Foreign Language"})]}),Object(I.jsx)(m.a,{children:n.map((function(e,t){return e.redirect?null:Object(I.jsx)("li",{className:e.upgrade?"active active-pro":(a=e.path,r.pathname.indexOf(a)>-1?"active":""),children:Object(I.jsxs)(j.b,{to:{pathname:e.path,state:s},className:"nav-link",activeClassName:"active",children:[Object(I.jsx)("i",{className:e.icon}),Object(I.jsx)("p",{children:e.name})]})},t);var a}))})]})]})},De=a(141),Ie=a(134),Te=a.p+"static/media/sidebar-1.2ea74e53.jpg",Ae=a.p+"static/media/sidebar-2.00b17713.jpg",Be=a.p+"static/media/sidebar-3.9992d0ce.jpg",Ee=a.p+"static/media/sidebar-4.b7eb4d1b.jpg";var ze=function(e){var t=e.hasImage,a=e.setHasImage,c=e.color,n=e.setColor,s=e.image,r=e.setImage;return Object(I.jsx)("div",{className:"fixed-plugin",children:Object(I.jsxs)(De.a,{children:[Object(I.jsx)(De.a.Toggle,{id:"dropdown-fixed-plugin",variant:"",className:"text-white border-0 opacity-100",children:Object(I.jsx)("i",{className:"fas fa-cogs fa-2x mt-1"})}),Object(I.jsxs)(De.a.Menu,{children:[Object(I.jsxs)("li",{className:"adjustments-line d-flex align-items-center justify-content-between",children:[Object(I.jsx)("p",{children:"Background Image"}),Object(I.jsx)(S.a.Check,{type:"switch",id:"custom-switch-1-image",checked:t,onChange:a})]}),Object(I.jsxs)("li",{className:"adjustments-line mt-3",children:[Object(I.jsx)("p",{children:"Filters"}),Object(I.jsxs)("div",{className:"pull-right",children:[Object(I.jsx)(Ie.a,{variant:"secondary",className:"black"===c?"active":"",onClick:function(){return n("black")}}),Object(I.jsx)(Ie.a,{variant:"azure",className:"azure"===c?"active":"",onClick:function(){return n("azure")}}),Object(I.jsx)(Ie.a,{variant:"green",className:"green"===c?"active":"",onClick:function(){return n("green")}}),Object(I.jsx)(Ie.a,{variant:"orange",className:"orange"===c?"active":"",onClick:function(){return n("orange")}}),Object(I.jsx)(Ie.a,{variant:"red",className:"red"===c?"active":"",onClick:function(){return n("red")}}),Object(I.jsx)(Ie.a,{variant:"purple",className:"purple"===c?"active":"",onClick:function(){return n("purple")}})]}),Object(I.jsx)("div",{className:"clearfix"})]}),Object(I.jsx)("li",{className:"header-title",children:"Sidebar Images"}),Object(I.jsx)("li",{className:s===Te?"active":"",children:Object(I.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:function(e){e.preventDefault(),r(Te)},children:Object(I.jsx)("img",{alt:"...",src:Te})})}),Object(I.jsx)("li",{className:s===Ae?"active":"",children:Object(I.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:function(e){e.preventDefault(),r(Ae)},children:Object(I.jsx)("img",{alt:"...",src:Ae})})}),Object(I.jsx)("li",{className:s===Be?"active":"",children:Object(I.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:function(e){e.preventDefault(),r(Be)},children:Object(I.jsx)("img",{alt:"...",src:Be})})}),Object(I.jsx)("li",{className:s===Ee?"active":"",children:Object(I.jsx)("a",{className:"img-holder switch-trigger d-block",href:"#pablo",onClick:function(e){e.preventDefault(),r(Ee)},children:Object(I.jsx)("img",{alt:"...",src:Ee})})}),Object(I.jsx)("li",{className:"button-container",children:Object(I.jsx)("div",{children:Object(I.jsx)(O.a,{block:!0,className:"btn-fill",href:"http://www.creative-tim.com/product/light-bootstrap-dashboard-react",rel:"noopener noreferrer",target:"_blank",variant:"info",children:"Download, it's free!"})})}),Object(I.jsx)("li",{className:"button-container",children:Object(I.jsx)("div",{children:Object(I.jsx)(O.a,{block:!0,className:"btn-fill",href:"http://www.creative-tim.com/product/light-bootstrap-dashboard-react",rel:"noopener noreferrer",target:"_blank",variant:"default",children:"Checkout docs."})})}),Object(I.jsx)("li",{className:"header-title pro-title text-center",children:"Want more components?"}),Object(I.jsx)("li",{className:"button-container",children:Object(I.jsx)("div",{children:Object(I.jsx)(O.a,{block:!0,className:"btn-fill",href:"http://www.creative-tim.com/product/light-bootstrap-dashboard-pro-react",rel:"noopener noreferrer",target:"_blank",variant:"primary",children:"Get The PRO Version!"})})}),Object(I.jsx)("li",{className:"header-title",id:"sharrreTitle",children:"Thank you for sharing!"}),Object(I.jsxs)("li",{className:"button-container mb-4",children:[Object(I.jsxs)(O.a,{className:"btn-social btn-outline btn-round sharrre",id:"twitter",variant:"twitter",children:[Object(I.jsx)("i",{className:"fab fa-twitter"}),"\xb7 256"]}),Object(I.jsxs)(O.a,{className:"btn-social btn-outline btn-round sharrre",id:"facebook",variant:"facebook",children:[Object(I.jsx)("i",{className:"fab fa-facebook-square"}),"\xb7 426"]})]})]})]})})};var Fe=function(e){var t=Object(c.useState)(Be),a=Object(l.a)(t,2),s=a[0],r=a[1],j=Object(c.useState)("black"),d=Object(l.a)(j,2),u=d[0],b=d[1],h=Object(c.useState)(!0),O=Object(l.a)(h,2),m=O[0],p=O[1],x=Object(c.useState)([]),f=Object(l.a)(x,2),g=f[0],v=f[1],y=Object(o.g)(),N=n.a.useRef(null);return Object(c.useEffect)((function(){if(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,N.current.scrollTop=0,window.innerWidth<768&&-1!==document.documentElement.className.indexOf("nav-open")){document.documentElement.classList.toggle("nav-open");var t=document.getElementById("bodyClick");t.parentNode.removeChild(t)}var a=e.location.state.role;v("pupil"==a?fe:"teacher"==a?xe:pe)}),[y]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"wrapper",children:[Object(I.jsx)(we,{color:u,image:m?s:"",routes:g,state:e.location.state}),Object(I.jsxs)("div",{className:"main-panel",ref:N,children:[Object(I.jsx)(ve,{state:e.location.state}),Object(I.jsx)("div",{className:"content",children:Object(I.jsx)(o.d,{children:function(e){return e.map((function(e,t){return Object(I.jsx)(o.b,{path:e.path,render:function(t){return Object(I.jsx)(e.component,Object(i.a)({},t))}},t)}))}(g)})}),Object(I.jsx)(Se,{})]})]}),Object(I.jsx)(ze,{hasImage:m,setHasImage:function(){return p(!m)},color:u,setColor:function(e){return b(e)},image:s,setImage:function(e){return r(e)}})]})},_e=a(135),Ge=a(136),Pe=a(137),He=a(138),Le=a(139),Me=a(146),Ue=function(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("footer",{className:"py-5",children:Object(I.jsx)(_e.a,{children:Object(I.jsxs)(Ge.a,{className:"align-items-center justify-content-xl-between",children:[Object(I.jsx)(Pe.a,{xl:"6",children:Object(I.jsxs)("div",{className:"copyright text-center text-xl-left text-muted",children:["\xa9 ",(new Date).getFullYear()," ",Object(I.jsx)("a",{className:"font-weight-bold ml-1",href:"https://www.creative-tim.com?ref=adr-auth-footer",target:"_blank",children:"Creative Tim"})]})}),Object(I.jsx)(Pe.a,{xl:"6",children:Object(I.jsxs)(He.a,{className:"nav-footer justify-content-center justify-content-xl-end",children:[Object(I.jsx)(Le.a,{children:Object(I.jsx)(Me.a,{href:"https://www.creative-tim.com?ref=adr-auth-footer",target:"_blank",children:"Creative Tim"})}),Object(I.jsx)(Le.a,{children:Object(I.jsx)(Me.a,{href:"https://www.creative-tim.com/presentation?ref=adr-auth-footer",target:"_blank",children:"About Us"})}),Object(I.jsx)(Le.a,{children:Object(I.jsx)(Me.a,{href:"http://blog.creative-tim.com?ref=adr-auth-footer",target:"_blank",children:"Blog"})}),Object(I.jsx)(Le.a,{children:Object(I.jsx)(Me.a,{href:"https://github.com/creativetimofficial/argon-dashboard/blob/master/LICENSE.md?ref=adr-auth-footer",target:"_blank",children:"MIT License"})})]})})]})})})})};var Je=function(){return Object(I.jsx)(b.a,{bg:"white",expand:"md",children:Object(I.jsxs)(h.a,{fluid:!0,children:[Object(I.jsxs)(b.a.Brand,{href:"#home",onClick:function(e){return e.preventDefault()},className:"mr-2",children:[Object(I.jsx)("img",{alt:"Panda",src:a(81).default,width:"40",height:"40",className:"d-inline-block"})," ","Panda Foreign Language School"]}),Object(I.jsxs)(b.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"mr-2",children:[Object(I.jsx)("span",{className:"navbar-toggler-bar burger-lines"}),Object(I.jsx)("span",{className:"navbar-toggler-bar burger-lines"}),Object(I.jsx)("span",{className:"navbar-toggler-bar burger-lines"})]}),Object(I.jsx)(b.a.Collapse,{id:"basic-navbar-nav",children:Object(I.jsx)(m.a,{className:"ml-auto",navbar:!0,children:Object(I.jsx)(m.a.Item,{children:Object(I.jsx)(m.a.Link,{className:"m-0",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(I.jsx)("span",{className:"no-icon",children:"About"})})})})})]})})},Ve=function(){var e=n.a.useRef(null),t=Object(o.g)();n.a.useEffect((function(){return document.body.classList.add("bg-default"),function(){document.body.classList.remove("bg-default")}}),[]),n.a.useEffect((function(){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,e.current.scrollTop=0}),[t]);var a;return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"main-content",ref:e,children:[Object(I.jsx)(Je,{}),Object(I.jsx)(h.a,{children:Object(I.jsx)(y.a,{className:"justify-content-center",children:Object(I.jsx)(o.d,{children:(a=ge,a.map((function(e,t){return"/auth"===e.layout?Object(I.jsx)(o.b,{path:e.path,component:e.component},t):null})))})})}),Object(I.jsx)(Ue,{})]})})};var Re=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){var e=p();e&&u.a.get("https://digital-grading-system.herokuapp.com/api/v1/user/verify?token=".concat(e)).then((function(e){setTimeout((function(){f(e.data),n(!1)}),500)})).catch((function(e){x(),n(!1)}))}),[]),a&&p()?Object(I.jsx)("div",{children:"Checking Authentication..."}):Object(I.jsx)(j.a,{children:Object(I.jsxs)(o.d,{children:[Object(I.jsx)(o.b,{path:"/login",render:function(e){return p()?Object(I.jsx)(o.a,{to:"/dashboard"}):Object(I.jsx)(Ve,Object(i.a)({},e))}}),Object(I.jsx)(o.b,{path:"/",render:function(e){return p()?Object(I.jsx)(Fe,Object(i.a)({},e)):Object(I.jsx)(o.a,{to:"/login"})}}),Object(I.jsx)(o.a,{from:"*",to:"/dashboard"})]})})};r.a.render(Object(I.jsx)(Re,{}),document.getElementById("root"))},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/panda-small.48ce796b.jpg"}},[[123,1,2]]]);
//# sourceMappingURL=main.7a5a6a60.chunk.js.map